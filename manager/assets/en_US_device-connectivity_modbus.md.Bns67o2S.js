import{_ as a,c as i,o as t,ah as s,be as o,bf as r,bg as l,bh as n,bi as c,bj as d,bk as p,bl as h,bm as b,bn as u,bo as g}from"./chunks/framework.BDBjiFeZ.js";const C=JSON.parse('{"title":"Modbus RTU","description":"","frontmatter":{"sidebar_position":4},"headers":[],"relativePath":"en_US/device-connectivity/modbus.md","filePath":"en_US/device-connectivity/modbus.md"}'),m={name:"en_US/device-connectivity/modbus.md"};function v(k,e,f,_,y,E){return t(),i("div",null,[...e[0]||(e[0]=[s(`<h1 id="modbus-rtu" tabindex="-1">Modbus RTU <a class="header-anchor" href="#modbus-rtu" aria-label="Permalink to “Modbus RTU”">​</a></h1><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to “Prerequisites”">​</a></h2><p>Install Modbus Device Connectivity Service and register the service as System Admin.</p><p><a href="https://github.com/ThingsPanel/modbus-protocol-plugin" target="_blank" rel="noreferrer">ThingsPanel 1.0.0 Modbus Service Installation Guide</a></p><h2 id="operation-flowchart" tabindex="-1">Operation Flowchart <a class="header-anchor" href="#operation-flowchart" aria-label="Permalink to “Operation Flowchart”">​</a></h2><div class="language-mermaid"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    A[&quot;Create Sub-device Model (Optional)&quot;] --&gt; B[&quot;Create Gateway Template&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    A --&gt; C[&quot;Create Sub-device Template&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    B --&gt; D[&quot;Create Gateway Device&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    C --&gt; E[&quot;Create Sub-device&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    D --&gt; F[&quot;Add Sub-device to Gateway &amp; Set Slave Addr&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    E --&gt; F</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    F --&gt; G[&quot;Configure Device Side&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    G --&gt; H[&quot;View Data on Platform&quot;]</span></span></code></pre></div><h2 id="onboarding-steps" tabindex="-1">Onboarding Steps <a class="header-anchor" href="#onboarding-steps" aria-label="Permalink to “Onboarding Steps”">​</a></h2><h3 id="create-modbus-gateway-device-on-platform" tabindex="-1">Create Modbus Gateway Device on Platform <a class="header-anchor" href="#create-modbus-gateway-device-on-platform" aria-label="Permalink to “Create Modbus Gateway Device on Platform”">​</a></h3><ol><li>Create Gateway Device Template <ol><li>Create Device Template. <img src="`+o+'" alt="Create Template"></li><li>In Protocol Configuration, select Modbus_RTU or Modbus_TCP. <img src="'+r+'" alt="Protocol Config"></li></ol></li><li>Create Device, bind the Gateway Template created above. <ol><li>Go to <code>Device Connectivity</code> -&gt; <code>Device Management</code>, click <code>Add Device</code> to create gateway device. <img src="'+l+'" alt="Add Device"></li><li>Fill in Registration Packet info (Ensure consistency with Gateway or DTU config, and disable device heartbeat packet). <img src="'+n+'" alt="Reg Packet"></li><li>Power on the device, you should see it online.</li></ol></li></ol><h3 id="create-sub-device-for-modbus-gateway" tabindex="-1">Create Sub-device for Modbus Gateway <a class="header-anchor" href="#create-sub-device-for-modbus-gateway" aria-label="Permalink to “Create Sub-device for Modbus Gateway”">​</a></h3><ol><li>Create Sub-device Template <ol><li>Create Device Template. <img src="'+c+'" alt="Create Template"></li><li>In Protocol Configuration, select Modbus_RTU or Modbus_TCP. A config form will appear. Fill in config info as prompted. <img src="'+d+'" alt="Protocol Config"></li></ol></li><li>Create Device, bind the Sub-device Template. <ol><li>Go to <code>Device Connectivity</code> -&gt; <code>Device Management</code>, click <code>Add Device</code> to create sub-device. <img src="'+p+'" alt="Add Sub-device"></li><li>Set Heartbeat Time. <img src="'+h+'" alt="Heartbeat"></li></ol></li><li>Bind Sub-device to Gateway <ol><li>Go to <code>Device Connectivity</code> -&gt; <code>Device Management</code>, select the corresponding Gateway Device, choose Sub-device tab, click Add Sub-device, select the sub-device to add. <img src="'+b+'" alt="Bind Sub-device"></li><li>Modify Sub-device Address (Slave Address). <img src="'+u+'" alt="Modify Slave Address"></li><li>View Sub-device details. If configured correctly, the sub-device should report data normally.</li></ol></li></ol><h2 id="onboarding-result" tabindex="-1">Onboarding Result <a class="header-anchor" href="#onboarding-result" aria-label="Permalink to “Onboarding Result”">​</a></h2><p><img src="'+g+'" alt="ThingsPanel Data"></p><h2 id="references" tabindex="-1">References <a class="header-anchor" href="#references" aria-label="Permalink to “References”">​</a></h2><p><a href="http://thingspanel.cn/posts/54" target="_blank" rel="noreferrer">Connecting Smart Meter via USR-DR154 Gateway to ThingsPanel</a></p>',15)])])}const P=a(m,[["render",v]]);export{C as __pageData,P as default};
