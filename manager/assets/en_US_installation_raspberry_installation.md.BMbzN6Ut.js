import{_ as i,c as a,o as e,ah as t}from"./chunks/framework.BDBjiFeZ.js";const c=JSON.parse('{"title":"Raspberry Pi Installation","description":"","frontmatter":{"sidebar_position":4},"headers":[],"relativePath":"en_US/installation/raspberry_installation.md","filePath":"en_US/installation/raspberry_installation.md"}'),n={name:"en_US/installation/raspberry_installation.md"};function l(h,s,r,p,o,d){return e(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="raspberry-pi-installation" tabindex="-1">Raspberry Pi Installation <a class="header-anchor" href="#raspberry-pi-installation" aria-label="Permalink to “Raspberry Pi Installation”">​</a></h1><p>This document details how to install and configure the ThingsPanel IoT platform on a Raspberry Pi.</p><h2 id="table-of-contents" tabindex="-1">Table of Contents <a class="header-anchor" href="#table-of-contents" aria-label="Permalink to “Table of Contents”">​</a></h2><ul><li><a href="#system-requirements">System Requirements</a></li><li><a href="#quick-installation">Quick Installation</a></li><li><a href="#detailed-installation-steps">Detailed Installation Steps</a></li><li><a href="#installation-options">Installation Options</a></li><li><a href="#component-description">Component Description</a></li><li><a href="#troubleshooting">Troubleshooting</a></li><li><a href="#faq">FAQ</a></li><li><a href="#more-resources">More Resources</a></li></ul><h2 id="system-requirements" tabindex="-1">System Requirements <a class="header-anchor" href="#system-requirements" aria-label="Permalink to “System Requirements”">​</a></h2><p>Before installing ThingsPanel, please ensure your Raspberry Pi meets the following requirements:</p><ul><li>Raspberry Pi 3B+ or higher (Raspberry Pi 4B or higher recommended)</li><li>At least 2GB RAM (4GB or higher recommended)</li><li>At least 16GB SD Card (32GB or higher recommended)</li><li>Raspberry Pi OS (Debian Bullseye based or higher)</li><li>Network Connection</li></ul><h2 id="quick-installation" tabindex="-1">Quick Installation <a class="header-anchor" href="#quick-installation" aria-label="Permalink to “Quick Installation”">​</a></h2><p>If you want to quickly install all components, you can use the following commands:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Download installation script</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install_thingspanel_rpi.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://raw.githubusercontent.com/ThingsPanel/thingspanel-on-raspberrypi/main/scripts/install/install_thingspanel_rpi.sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Add execution permissions</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install_thingspanel_rpi.sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Install in fully automatic mode (all components)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./install_thingspanel_rpi.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span></span></code></pre></div><p>After installation is complete, access the ThingsPanel platform by visiting your Raspberry Pi&#39;s IP address in a browser:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>http://RPi_IP_Address</span></span></code></pre></div><p>Default Credentials:</p><ul><li>System Admin: <a href="mailto:super@super.cn" target="_blank" rel="noreferrer">super@super.cn</a> / 123456</li><li>Tenant Admin: <a href="mailto:tenant@tenant.cn" target="_blank" rel="noreferrer">tenant@tenant.cn</a> / 123456</li></ul><h2 id="detailed-installation-steps" tabindex="-1">Detailed Installation Steps <a class="header-anchor" href="#detailed-installation-steps" aria-label="Permalink to “Detailed Installation Steps”">​</a></h2><p>If you want to understand the installation process in more detail or customize installation options, follow these steps:</p><h3 id="_1-prepare-environment" tabindex="-1">1. Prepare Environment <a class="header-anchor" href="#_1-prepare-environment" aria-label="Permalink to “1. Prepare Environment”">​</a></h3><p>First, ensure your Raspberry Pi system is up to date:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre></div><h3 id="_2-download-installation-script" tabindex="-1">2. Download Installation Script <a class="header-anchor" href="#_2-download-installation-script" aria-label="Permalink to “2. Download Installation Script”">​</a></h3><p>Download the ThingsPanel Raspberry Pi one-click installation script:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install_thingspanel_rpi.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://raw.githubusercontent.com/ThingsPanel/thingspanel-rpi-docker/main/install_thingspanel_rpi.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install_thingspanel_rpi.sh</span></span></code></pre></div><h3 id="_3-execute-installation-script" tabindex="-1">3. Execute Installation Script <a class="header-anchor" href="#_3-execute-installation-script" aria-label="Permalink to “3. Execute Installation Script”">​</a></h3><p>Run the installation script in one of the following ways depending on your needs:</p><h4 id="interactive-installation-recommended-for-new-users" tabindex="-1">Interactive Installation (Recommended for New Users) <a class="header-anchor" href="#interactive-installation-recommended-for-new-users" aria-label="Permalink to “Interactive Installation (Recommended for New Users)”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./install_thingspanel_rpi.sh</span></span></code></pre></div><p>This mode asks for confirmation at each step, suitable for users who want to understand the installation process.</p><h4 id="auto-confirm-installation" tabindex="-1">Auto-Confirm Installation <a class="header-anchor" href="#auto-confirm-installation" aria-label="Permalink to “Auto-Confirm Installation”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./install_thingspanel_rpi.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre></div><p>This mode automatically confirms all prompts but still displays installation progress.</p><h4 id="fully-automatic-installation" tabindex="-1">Fully Automatic Installation <a class="header-anchor" href="#fully-automatic-installation" aria-label="Permalink to “Fully Automatic Installation”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./install_thingspanel_rpi.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span></span></code></pre></div><p>In this mode, the script automatically installs all components without any interaction.</p><h4 id="custom-component-installation" tabindex="-1">Custom Component Installation <a class="header-anchor" href="#custom-component-installation" aria-label="Permalink to “Custom Component Installation”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Install only specific components</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./install_thingspanel_rpi.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redis,timescaledb,backend</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Install all components except specified ones</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./install_thingspanel_rpi.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> frontend</span></span></code></pre></div><h3 id="_4-installation-process" tabindex="-1">4. Installation Process <a class="header-anchor" href="#_4-installation-process" aria-label="Permalink to “4. Installation Process”">​</a></h3><p>The installation script automatically performs the following operations:</p><ol><li>Sets up installation environment and directories</li><li>Updates the system</li><li>Installs necessary tools and dependencies</li><li>Installs Docker</li><li>Detects ARM architecture and sets environment</li><li>Installs Go environment (if needed)</li><li>Installs Redis database</li><li>Installs TimescaleDB database</li><li>Installs GMQTT message broker</li><li>Installs ThingsPanel backend service</li><li>Installs ThingsPanel frontend (including Nginx configuration)</li></ol><p>The entire installation process may take 15-30 minutes depending on network conditions and Raspberry Pi performance.</p><h3 id="_5-verify-installation" tabindex="-1">5. Verify Installation <a class="header-anchor" href="#_5-verify-installation" aria-label="Permalink to “5. Verify Installation”">​</a></h3><p>Upon completion, the script will display access information:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>ThingsPanel Installation Complete!</span></span>
<span class="line"><span>Access URL: http://YOUR_RPI_IP</span></span>
<span class="line"><span>Default Credentials:</span></span>
<span class="line"><span>- System Admin: super@super.cn / 123456</span></span>
<span class="line"><span>- Tenant Admin: tenant@tenant.cn / 123456</span></span></code></pre></div><p>Use a browser to visit the address and log in with the default account.</p><h2 id="installation-options" tabindex="-1">Installation Options <a class="header-anchor" href="#installation-options" aria-label="Permalink to “Installation Options”">​</a></h2><p>The installation script supports the following command-line options:</p><table tabindex="0"><thead><tr><th style="text-align:left;">Option</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>-y, --yes</code></td><td style="text-align:left;">Auto mode, assumes &quot;yes&quot; to all prompts</td></tr><tr><td style="text-align:left;"><code>-a, --auto</code></td><td style="text-align:left;">Fully auto mode, no prompts, installs all components</td></tr><tr><td style="text-align:left;"><code>-c, --components</code></td><td style="text-align:left;">Specify components to install (comma separated: redis,timescaledb,gmqtt,backend,frontend)</td></tr><tr><td style="text-align:left;"><code>-s, --skip</code></td><td style="text-align:left;">Specify components to skip (comma separated)</td></tr><tr><td style="text-align:left;"><code>-v, --verbose</code></td><td style="text-align:left;">Verbose mode, shows all output even in auto mode</td></tr><tr><td style="text-align:left;"><code>-p, --prebuilt</code></td><td style="text-align:left;">Use prebuilt binaries (Default option)</td></tr><tr><td style="text-align:left;"><code>-b, --build</code></td><td style="text-align:left;">Build from source (Not recommended on low-performance devices)</td></tr><tr><td style="text-align:left;"><code>-h, --help</code></td><td style="text-align:left;">Show help information</td></tr></tbody></table><h2 id="component-description" tabindex="-1">Component Description <a class="header-anchor" href="#component-description" aria-label="Permalink to “Component Description”">​</a></h2><p>ThingsPanel for Raspberry Pi includes the following core components:</p><h3 id="redis" tabindex="-1">Redis <a class="header-anchor" href="#redis" aria-label="Permalink to “Redis”">​</a></h3><p>Used for caching and message queues, installed in a Docker container.</p><ul><li>Port: 6379</li><li>Password: redis</li><li>Data Directory: <code>/home/pi/thingspanel/redis/data</code></li></ul><h3 id="timescaledb" tabindex="-1">TimescaleDB <a class="header-anchor" href="#timescaledb" aria-label="Permalink to “TimescaleDB”">​</a></h3><p>Used for storing time-series data and system configuration, based on PostgreSQL, installed in a Docker container.</p><ul><li>Port: 5432</li><li>Database Name: ThingsPanel</li><li>Username: postgres</li><li>Password: postgresThingsPanel</li><li>Data Directory: <code>/home/pi/thingspanel/timescaledb/data</code></li></ul><h3 id="gmqtt" tabindex="-1">GMQTT <a class="header-anchor" href="#gmqtt" aria-label="Permalink to “GMQTT”">​</a></h3><p>MQTT Message Broker for device communication, managed by PM2.</p><ul><li>Port: 1883</li><li>Super User: root</li><li>Super User Password: root</li><li>Device Onboarding Service Password: plugin</li><li>Installation Directory: <code>/home/pi/thingspanel/thingspanel-gmqtt</code></li></ul><h3 id="backend-service" tabindex="-1">Backend Service <a class="header-anchor" href="#backend-service" aria-label="Permalink to “Backend Service”">​</a></h3><p>ThingsPanel core logic and API service, managed by PM2.</p><ul><li>Port: 9999</li><li>Installation Directory: <code>/home/pi/thingspanel/thingspanel-backend-community</code></li><li>Log Directory: <code>/home/pi/thingspanel/thingspanel-backend-community/files/logs</code></li></ul><h3 id="frontend-service" tabindex="-1">Frontend Service <a class="header-anchor" href="#frontend-service" aria-label="Permalink to “Frontend Service”">​</a></h3><p>ThingsPanel Web Interface, served via Nginx.</p><ul><li>Port: 80</li><li>Web Directory: <code>/var/www/html/thingspanel</code></li><li>Nginx Config: <code>/etc/nginx/sites-available/thingspanel</code></li></ul><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to “Troubleshooting”">​</a></h2><p>If you encounter issues during installation or usage, try the following solutions:</p><h3 id="_1-service-fails-to-start" tabindex="-1">1. Service Fails to Start <a class="header-anchor" href="#_1-service-fails-to-start" aria-label="Permalink to “1. Service Fails to Start”">​</a></h3><p>Check status of services:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># View all Docker containers</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># View PM2 managed processes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pm2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># View Nginx status</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span></span></code></pre></div><h3 id="_2-web-page-shows-502-error" tabindex="-1">2. Web Page Shows 502 Error <a class="header-anchor" href="#_2-web-page-shows-502-error" aria-label="Permalink to “2. Web Page Shows 502 Error”">​</a></h3><p>This usually means the backend service is not running normally. Try:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Restart backend service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pm2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backend</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># View backend logs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pm2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backend</span></span></code></pre></div><h3 id="_3-devices-cannot-connect-to-mqtt-service" tabindex="-1">3. Devices Cannot Connect to MQTT Service <a class="header-anchor" href="#_3-devices-cannot-connect-to-mqtt-service" aria-label="Permalink to “3. Devices Cannot Connect to MQTT Service”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Check GMQTT service status</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pm2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gmqtt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Restart GMQTT service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pm2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gmqtt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># View GMQTT logs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pm2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gmqtt</span></span></code></pre></div><h3 id="_4-database-connection-issues" tabindex="-1">4. Database Connection Issues <a class="header-anchor" href="#_4-database-connection-issues" aria-label="Permalink to “4. Database Connection Issues”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Check database container status</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> timescaledb</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># View database logs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> timescaledb</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{print $1}&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Restart database container</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> timescaledb</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{print $1}&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="_5-restart-all-services" tabindex="-1">5. Restart All Services <a class="header-anchor" href="#_5-restart-all-services" aria-label="Permalink to “5. Restart All Services”">​</a></h3><p>If the system functions abnormally, try restarting all services:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Restart all PM2 services</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pm2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> all</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Restart Nginx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Restart Docker containers</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -q</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h2 id="faq" tabindex="-1">FAQ <a class="header-anchor" href="#faq" aria-label="Permalink to “FAQ”">​</a></h2><h3 id="q-port-already-in-use-error-during-installation" tabindex="-1">Q: &quot;Port already in use&quot; error during installation <a class="header-anchor" href="#q-port-already-in-use-error-during-installation" aria-label="Permalink to “Q: &quot;Port already in use&quot; error during installation”">​</a></h3><p>A: This means a service is already using the required port. Use <code>sudo lsof -i:PORT</code> to find the process and terminate it, or use the <code>-s</code> parameter to skip the installation of that component.</p><h3 id="q-cannot-access-web-interface-after-installation" tabindex="-1">Q: Cannot access Web Interface after installation <a class="header-anchor" href="#q-cannot-access-web-interface-after-installation" aria-label="Permalink to “Q: Cannot access Web Interface after installation”">​</a></h3><p>A: Please check:</p><ol><li>Nginx is running: <code>sudo systemctl status nginx</code></li><li>Backend is running: <code>pm2 status backend</code></li><li>Firewall config: <code>sudo ufw status</code> (ensure port 80 is open)</li><li>Use correct IP: <code>hostname -I</code></li></ol><h3 id="q-how-to-backup-data" tabindex="-1">Q: How to backup data? <a class="header-anchor" href="#q-how-to-backup-data" aria-label="Permalink to “Q: How to backup data?”">​</a></h3><p>A: Main data is stored in TimescaleDB. Use PostgreSQL backup tools:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Backup</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> timescaledb</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{print $1}&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pg_dump</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -U</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> postgres</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ThingsPanel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> thingspanel_backup.sql</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Restore</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> thingspanel_backup.sql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> timescaledb</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{print $1}&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">psql</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -U</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> postgres</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ThingsPanel</span></span></code></pre></div><h3 id="q-how-to-update-thingspanel" tabindex="-1">Q: How to update ThingsPanel? <a class="header-anchor" href="#q-how-to-update-thingspanel" aria-label="Permalink to “Q: How to update ThingsPanel?”">​</a></h3><p>A: Recommended method is to re-run the installation script:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./install_thingspanel_rpi.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre></div><p>The script will detect installed components and offer update options.</p><h2 id="more-resources" tabindex="-1">More Resources <a class="header-anchor" href="#more-resources" aria-label="Permalink to “More Resources”">​</a></h2><ul><li><a href="https://thingspanel.io" target="_blank" rel="noreferrer">ThingsPanel Official Documentation</a></li><li><a href="https://github.com/ThingsPanel" target="_blank" rel="noreferrer">ThingsPanel GitHub Repository</a></li></ul><p>If you have questions or suggestions, please submit an issue on GitHub or join our community discussion.</p>`,94)])])}const g=i(n,[["render",l]]);export{c as __pageData,g as default};
