import{_ as e,c as a,o as t,ah as s,bp as n,bq as l}from"./chunks/framework.BDBjiFeZ.js";const u=JSON.parse('{"title":"MQTT Direct Onboarding","description":"","frontmatter":{"sidebar_position":2},"headers":[],"relativePath":"en_US/device-connectivity/mqtt.md","filePath":"en_US/device-connectivity/mqtt.md"}'),o={name:"en_US/device-connectivity/mqtt.md"};function r(d,i,h,c,p,k){return t(),a("div",null,[...i[0]||(i[0]=[s('<h1 id="mqtt-direct-onboarding" tabindex="-1">MQTT Direct Onboarding <a class="header-anchor" href="#mqtt-direct-onboarding" aria-label="Permalink to “MQTT Direct Onboarding”">​</a></h1><h2 id="onboarding-steps" tabindex="-1">Onboarding Steps <a class="header-anchor" href="#onboarding-steps" aria-label="Permalink to “Onboarding Steps”">​</a></h2><ol><li>Create Device</li><li>Select Device Template (Optional)</li><li>Get Device Configuration Parameters</li><li>Configure Device</li><li>Complete Onboarding</li></ol><h2 id="quick-onboarding-video" tabindex="-1">Quick Onboarding Video <a class="header-anchor" href="#quick-onboarding-video" aria-label="Permalink to “Quick Onboarding Video”">​</a></h2><h2 id="detailed-process" tabindex="-1">Detailed Process <a class="header-anchor" href="#detailed-process" aria-label="Permalink to “Detailed Process”">​</a></h2><h3 id="create-device" tabindex="-1">Create Device <a class="header-anchor" href="#create-device" aria-label="Permalink to “Create Device”">​</a></h3><p>In the <strong>Device Connectivity</strong> menu, click <strong>Add Device</strong>. You can manually add a device.</p><ul><li>No Device Template: Defaults to MQTT protocol, using MQTT Basic authentication.</li><li>Select Device Template: Use the protocol bound in the device template.</li></ul><h3 id="configure-device" tabindex="-1">Configure Device <a class="header-anchor" href="#configure-device" aria-label="Permalink to “Configure Device”">​</a></h3><p><img src="'+n+'" alt="MQTT Connect Params"></p><h3 id="simulation-via-command-line" tabindex="-1">Simulation via Command Line <a class="header-anchor" href="#simulation-via-command-line" aria-label="Permalink to “Simulation via Command Line”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mosquitto_pub</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 47.115.210.16</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1883</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;devices/telemetry&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test_data1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:25.5,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test_data2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:60}&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;5547c615-593e-6fb1-41f&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -P</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ced8bfd&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;mqtt_28e7fdfd-514&quot;</span></span></code></pre></div><p>Explanation of the <code>mosquitto_pub</code> command:</p><ul><li><code>mosquitto_pub</code>: Command line tool to publish messages.</li><li><code>-h</code>: Server host IP.</li><li><code>-p</code>: Server port (default 1883).</li><li><code>-t</code>: Topic (<code>devices/telemetry</code>).</li><li><code>-m</code>: Message payload (JSON string).</li><li><code>-u</code>: Username.</li><li><code>-P</code>: Password.</li><li><code>-i</code>: Client ID.</li></ul><h3 id="use-mosquitto-mqtt-client" tabindex="-1">Use Mosquitto MQTT Client <a class="header-anchor" href="#use-mosquitto-mqtt-client" aria-label="Permalink to “Use Mosquitto MQTT Client”">​</a></h3><p>Install Mosquitto MQTT client locally. The command is the same as the simulation command.</p><h3 id="result" tabindex="-1">Result <a class="header-anchor" href="#result" aria-label="Permalink to “Result”">​</a></h3><p><img src="'+l+'" alt="Data Push Result"></p><h2 id="mqtt-onboarding-specification" tabindex="-1">MQTT Onboarding Specification <a class="header-anchor" href="#mqtt-onboarding-specification" aria-label="Permalink to “MQTT Onboarding Specification”">​</a></h2><p><a href="./mqtt-device-rule.html">Direct Device MQTT Interaction Spec</a></p><h2 id="common-issues" tabindex="-1">Common Issues <a class="header-anchor" href="#common-issues" aria-label="Permalink to “Common Issues”">​</a></h2><ol><li>Note that MQTT Broker address might differ from the platform address.</li><li>MQTT ClientID must be unique.</li><li>If device is online but no messages, check the Topic.</li><li>If simulation works, platform is fine; check device side issues.</li></ol>',22)])])}const g=e(o,[["render",r]]);export{u as __pageData,g as default};
