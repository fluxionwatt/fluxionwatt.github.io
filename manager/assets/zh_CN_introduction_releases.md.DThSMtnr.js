import{_ as i,c as a,o as e,ah as r}from"./chunks/framework.BDBjiFeZ.js";const b=JSON.parse('{"title":"更新记录","description":"","frontmatter":{"sidebar_position":9},"headers":[],"relativePath":"zh_CN/introduction/releases.md","filePath":"zh_CN/introduction/releases.md"}'),h={name:"zh_CN/introduction/releases.md"};function n(t,l,s,d,o,c){return e(),a("div",null,[...l[0]||(l[0]=[r('<h1 id="更新记录" tabindex="-1">更新记录 <a class="header-anchor" href="#更新记录" aria-label="Permalink to “更新记录”">​</a></h1><h2 id="thingspanel-ver1-1-8更新日志" tabindex="-1">ThingsPanel-Ver1.1.8更新日志 <a class="header-anchor" href="#thingspanel-ver1-1-8更新日志" aria-label="Permalink to “ThingsPanel-Ver1.1.8更新日志”">​</a></h2><h3 id="新增功能" tabindex="-1">新增功能 <a class="header-anchor" href="#新增功能" aria-label="Permalink to “新增功能”">​</a></h3><p><strong>设备管理</strong></p><ul><li>新增一型一密认证功能，提升设备接入安全性和便捷性</li><li>设备配置支持图片上传，丰富设备信息展示</li><li>新增设备删除功能</li><li>子设备选择器新增搜索字段，提升操作体验</li><li>动态注册接口扩展支持网关子设备注册</li><li>新增自动注册开关与密码复制功能（设备配置详情页）</li></ul><p><strong>系统管理</strong></p><ul><li>新增系统版本检测功能与GitHub链接入口</li><li>新增用户角色类型字段的国际化支持</li><li>新增Clipboard.js密码复制功能（支持失败提示和手动弹窗）</li></ul><p><strong>场景联动</strong></p><ul><li>新增联动条件状态的多语言支持</li></ul><p><strong>界面导航</strong></p><ul><li>操作指南卡片新增设备管理/可视化看板快速跳转链接</li><li>术语优化：更新&quot;服务接入&quot;→&quot;三方接入&quot;</li></ul><h3 id="优化和修复" tabindex="-1">优化和修复 <a class="header-anchor" href="#优化和修复" aria-label="Permalink to “优化和修复”">​</a></h3><p><strong>设备管理优化</strong></p><ul><li>优化获取最新活跃设备遥测数据接口性能</li><li>统一网关和直连设备的平台响应格式</li><li>设备卡片与列表统一状态点显示逻辑</li><li>优化卡片悬停效果/阴影样式/点击事件处理</li><li>新增移动端适配布局与内容区域滚动条样式</li><li>修复设备分析操作列标题国际化键名错误</li></ul><p><strong>设备管理问题修复</strong></p><ul><li>修复网关下添加子设备时出现未激活设备的问题</li><li>修复未绑定子设备列表查询接口显示未激活设备的缺陷</li><li>解决网关命令接收异常的配置问题</li></ul><p><strong>可视化看板</strong></p><ul><li>看板重构使用DevCardItem组件重构看板列表布局</li><li>移除卡片悬停效果，优化底部图标与文本展示</li><li>新增卡片加载状态指示器</li></ul><p><strong>系统稳定性</strong></p><ul><li>修复租户统计时区计算错误</li><li>增加数据库连接失败重试机制，提升系统可靠性</li><li>修复WebSocket接口Token认证问题</li></ul><p><strong>用户界面优化</strong></p><ul><li>登录页修复系统标题换行问题，统一标题样式</li><li>重构背景动画与卡片样式，优化UI设计</li><li>个人中心调整头像尺寸，新增系统描述字段</li><li>修复模板语法错误，调整模态框/日期选择器宽度</li><li>优化设备配置页提交成功提示逻辑与表单状态重置</li></ul><p><strong>代码质量提升</strong></p><ul><li>移除代码冗余分号，统一格式化规范</li><li>更新Prettier配置支持TypeScript解析</li><li>清理测试路由/视图文件，简化路由配置</li></ul><h2 id="thingspanel-ver1-1-7更新日志" tabindex="-1">ThingsPanel-Ver1.1.7更新日志 <a class="header-anchor" href="#thingspanel-ver1-1-7更新日志" aria-label="Permalink to “ThingsPanel-Ver1.1.7更新日志”">​</a></h2><h3 id="新增功能-1" tabindex="-1">新增功能 <a class="header-anchor" href="#新增功能-1" aria-label="Permalink to “新增功能”">​</a></h3><ul><li>新增获取系统版本号接口</li><li>新增租户最新上报数据查询接口</li><li>新增CPU、内存、磁盘监控接口</li><li>新增设备告警数量统计接口</li><li><strong>首页</strong><ul><li>为首页增加默认首页</li></ul></li><li><strong>卡片组件</strong><ul><li>新增应用下载与版本信息卡片</li><li>新增系统指标历史/租户统计/租户图表卡片</li><li>新增最近访问记录卡片（支持页面列表展示）</li></ul></li><li><strong>图表功能</strong><ul><li>支持遥测数据历史筛选功能</li><li>新增CPU/内存/磁盘使用率卡片（带背景渐变效果）</li></ul></li><li><strong>安全增强</strong><ul><li>新增API密钥掩码显示逻辑</li></ul></li><li><strong>设备模板</strong><ul><li>创建页增加接入方式悬浮提示说明</li><li>新增枚举控制图表配置功能</li></ul></li></ul><h3 id="优化和修复-1" tabindex="-1">优化和修复 <a class="header-anchor" href="#优化和修复-1" aria-label="Permalink to “优化和修复”">​</a></h3><h4 id="系统层面" tabindex="-1">系统层面 <a class="header-anchor" href="#系统层面" aria-label="Permalink to “系统层面”">​</a></h4><ul><li>处理下发控制脚本不生效问题</li><li>修复事件上报脚本错误问题</li><li>修复属性上报类型变化导致的列表不显示问题</li><li>优化后台日志输出</li><li>优化应用初始化流程，实现模块化与依赖注入</li><li>修改Token过期返回多次错误的问题</li><li>日志查询时间条件查询异常问题修复</li></ul><h4 id="场景联动" tabindex="-1">场景联动 <a class="header-anchor" href="#场景联动" aria-label="Permalink to “场景联动”">​</a></h4><ul><li>场景联动属性上报校验逻辑修改</li><li>场景联动事件不触发的缺陷处理</li><li>场景联动和场景的日志中的设备ID更改为设备名称</li><li>场景设置自定义控制下发报异常缺陷处理</li><li>场景激活对于自定义控制执行报错标识符不存在的缺陷处理</li><li>场景激活日志增加场景名称</li><li>多设备条件，对于日志显示设备名称相同问题修复</li><li>场景管理创建时间倒叙排列</li></ul><h4 id="告警模块" tabindex="-1">告警模块 <a class="header-anchor" href="#告警模块" aria-label="Permalink to “告警模块”">​</a></h4><ul><li>告警执行失败原因补充</li><li>恢复告警缺陷修复</li><li>告警日志增加失败原因</li><li>告警邮箱推送失败缺陷处理</li></ul><h4 id="数据处理" tabindex="-1">数据处理 <a class="header-anchor" href="#数据处理" aria-label="Permalink to “数据处理”">​</a></h4><ul><li>优化自动化触发日志记录</li><li>数据脚本缓存异常逻辑缺陷修复</li><li>修复自定义属性下发报&quot;不支持的类型&quot;缺陷修复</li></ul><h4 id="通知系统" tabindex="-1">通知系统 <a class="header-anchor" href="#通知系统" aria-label="Permalink to “通知系统”">​</a></h4><ul><li>通知组列表查询接口数据不对问题处理</li><li>邮箱测试接口未校验邮箱格式缺陷处理</li></ul><h4 id="登录与账户" tabindex="-1">登录与账户 <a class="header-anchor" href="#登录与账户" aria-label="Permalink to “登录与账户”">​</a></h4><ul><li>修复「记住我」功能状态保留异常</li><li>注册成功后自动跳转至登录页（移除token自动登录）</li><li>密码校验提示冗余问题修复（6位纯数字校验逻辑优化）</li><li>多语言切换时密码提示信息同步更新</li><li>输入邮箱格式错误提示优化</li><li>手机号格式校验提示国际化支持</li></ul><h4 id="设备管理" tabindex="-1">设备管理 <a class="header-anchor" href="#设备管理" aria-label="Permalink to “设备管理”">​</a></h4><ul><li>设备列表筛选后添加设备自动刷新逻辑</li><li>服务接入跳转默认勾选对应服务设备</li><li>设备编号展示统一为「设备编号（Device ID）」</li><li>网关设备消息自动封装gateway_data字段</li><li>设备扩展信息删除后实时刷新</li><li>设备命令下发页面展示名称补全</li><li>修复遥测日志分页切换条数异常</li></ul><h4 id="看板与可视化" tabindex="-1">看板与可视化 <a class="header-anchor" href="#看板与可视化" aria-label="Permalink to “看板与可视化”">​</a></h4><ul><li>图表组件升级vue-echarts最新版本</li><li>设备选择器增加名称搜索功能</li><li>看板删除操作增加二次确认弹窗</li><li>看板保存成功后添加操作反馈提示</li><li>设备选择列表默认按创建时间倒序</li><li>修改租户默认看板模板</li></ul><h4 id="数据展示" tabindex="-1">数据展示 <a class="header-anchor" href="#数据展示" aria-label="Permalink to “数据展示”">​</a></h4><ul><li>遥测属性过长文本自动截断（...显示）</li><li>bool类型日志空值展示问题修复</li><li>修复柱状图带&quot;-&quot;字段勾选异常</li><li>表格数据渲染逻辑优化（空值处理增强）</li></ul><h4 id="国际化" tabindex="-1">国际化 <a class="header-anchor" href="#国际化" aria-label="Permalink to “国际化”">​</a></h4><ul><li>设备页面语言包术语统一（模型→模板）</li><li>验证码按钮文本多语言同步更新</li><li>新增&quot;操作失败&quot;等国际化词条</li><li>修复通知记录列标题翻译错误</li></ul><h4 id="交互优化" tabindex="-1">交互优化 <a class="header-anchor" href="#交互优化" aria-label="Permalink to “交互优化”">​</a></h4><ul><li>注册协议勾选校验逻辑补全</li><li>输入框清除功能支持扩展</li><li>浏览器Tab标题适配页面功能</li><li>系统日志时间筛选范围扩展至23:59:59</li><li>修复告警时间筛选截止时间异常</li><li>超级管理员登录404问题修复</li><li>验证码登录请求未发送问题修复</li><li>JSON格式校验缺失导致命令误发</li><li>设备模板关联异常提示优化</li><li>自动化分组输入框锁定问题修复</li></ul><h2 id="thingspanel-ver1-1-6更新日志" tabindex="-1">ThingsPanel-Ver1.1.6更新日志 <a class="header-anchor" href="#thingspanel-ver1-1-6更新日志" aria-label="Permalink to “ThingsPanel-Ver1.1.6更新日志”">​</a></h2><h3 id="新增功能-2" tabindex="-1">新增功能 <a class="header-anchor" href="#新增功能-2" aria-label="Permalink to “新增功能”">​</a></h3><ul><li>告警模块增加告警详情查询接口，方便用户获取更详细的告警信息</li><li>用户认证新增获取租户 ID 接口，提升多租户场景下的操作便利性</li><li>设备模块增加设备单指标图表数据查询接口，支持更灵活的数据分析与展示</li></ul><h3 id="优化和修复-2" tabindex="-1">优化和修复 <a class="header-anchor" href="#优化和修复-2" aria-label="Permalink to “优化和修复”">​</a></h3><h4 id="用户认证" tabindex="-1">用户认证 <a class="header-anchor" href="#用户认证" aria-label="Permalink to “用户认证”">​</a></h4><ul><li>修复获取用户信息接口返回不完整的问题，确保数据准确性</li><li>优化注册租户的业务流程，并修复相关缺陷，提升用户体验</li></ul><h4 id="系统日志" tabindex="-1">系统日志 <a class="header-anchor" href="#系统日志" aria-label="Permalink to “系统日志”">​</a></h4><ul><li>修复日志详情中接口调用响应为空的问题，保障日志记录的完整性</li></ul><h4 id="国际化-1" tabindex="-1">国际化 <a class="header-anchor" href="#国际化-1" aria-label="Permalink to “国际化”">​</a></h4><ul><li>修复多语言对 &quot;-&quot; 字符处理异常的问题，提升多语言支持的稳定性</li><li>新增对字符串 key 的翻译支持，进一步完善国际化功能</li></ul><h4 id="设备模块" tabindex="-1">设备模块 <a class="header-anchor" href="#设备模块" aria-label="Permalink to “设备模块”">​</a></h4><ul><li>优化聚合查询参数校验，提供更友好的错误提示信息</li><li>改进设备激活异常提示，帮助用户快速定位问题</li><li>优化设备类型指标查询选择器，支持属性和事件指标的返回，增强查询灵活性</li><li>修复导出历史遥测数据下载失败的问题，确保数据导出功能正常运行</li><li>设备名称搜索支持大小写不敏感，提升搜索体验</li><li>修复遥测对 JSON 类型数据存储为 Map 的异常问题，确保数据存储的正确性</li><li>解决设备凭证修改后旧凭证暂时还能使用的问题，增强安全性</li><li>修复下发控制对 MQTT 协议网关设备无效的问题，保障设备控制功能的可靠性</li><li>修复告警设备筛选不生效的问题，确保筛选功能的正常使用</li></ul><h2 id="thingspanel-ver1-1-5更新日志" tabindex="-1">ThingsPanel-Ver1.1.5更新日志 <a class="header-anchor" href="#thingspanel-ver1-1-5更新日志" aria-label="Permalink to “ThingsPanel-Ver1.1.5更新日志”">​</a></h2><h3 id="新增功能-3" tabindex="-1">新增功能 <a class="header-anchor" href="#新增功能-3" aria-label="Permalink to “新增功能”">​</a></h3><ul><li>开放平台API：实现OpenAPI支持，便于与第三方系统集成</li><li>API Keys管理：新增API访问凭证管理功能，支持创建和管理API密钥</li><li>租户设备监控：新增租户级别设备在线趋势查询及分析功能</li></ul><h3 id="优化和修复-3" tabindex="-1">优化和修复 <a class="header-anchor" href="#优化和修复-3" aria-label="Permalink to “优化和修复”">​</a></h3><ul><li>修复数据清理功能失效问题</li><li>优化设备属性与遥测查询接口，增加数据读写标志</li><li>优化设备删除操作的异常处理与提示</li><li>修复设备上线时预期消息偶发性丢失问题</li><li>系统功能：修复插件列表空状态下的界面异常</li><li>修复超级管理员无法查看系统日志的问题</li><li>修复服务插件表单获取接口的异常返回问题</li><li>登录注册修复忘记密码功能</li></ul><h2 id="thingspanel-ver1-1-4更新日志" tabindex="-1">ThingsPanel-Ver1.1.4更新日志 <a class="header-anchor" href="#thingspanel-ver1-1-4更新日志" aria-label="Permalink to “ThingsPanel-Ver1.1.4更新日志”">​</a></h2><h3 id="新增功能-4" tabindex="-1">新增功能 <a class="header-anchor" href="#新增功能-4" aria-label="Permalink to “新增功能”">​</a></h3><ul><li>增加prometheus集成，新增系统监控看板</li><li>增加代码静态分析工具deepsource，修复扫描发现的严重缺陷</li><li>新增上次访问时间字段</li><li>增加标准化API响应格式框架，完善了API国际化支持框架</li><li>支持手机号登录</li><li>增加租户注销接口</li><li>App增加邮箱注册和注销功能</li></ul><h3 id="优化和修复-4" tabindex="-1">优化和修复 <a class="header-anchor" href="#优化和修复-4" aria-label="Permalink to “优化和修复”">​</a></h3><ul><li>设备模板更名为设备模板，设备模型更名为设备模型</li><li>优化设备心跳监测性能，修复相关bug</li><li>修复MQTT断线重连问题，提升连接稳定性</li><li>修复遥测历史数据非聚合查询时间限制问题</li><li>优化聚合查询的时间范围校验逻辑</li><li>Redis升级到v9版本，提升性能和安全性</li><li>修复设备列表中设备编号筛选的bug</li><li>优化设备模型删除逻辑，增加设备模板关联校验</li><li>修复邮件发送相关安全漏洞</li><li>修复文件操作相关安全漏洞</li><li>扩展支持的安全文件上传类型</li><li>遥测数据统计数值超过四位导致报错问题修复</li><li>注销租户异常修复</li><li>删除场景联动异常修复</li><li>修改子设备地址未通知设备接入服务问题修复</li><li>定时任务扫描间隔调整为5秒</li><li>遥测历史数据查询接口增加分页</li><li>遥测数据统计返回数据位数过大报错问题修复</li><li>修复设备详情页布尔值显示在历史数据中</li><li>优化英文翻译</li><li>改善列表显示问题</li></ul><h2 id="thingspanel-ver1-1-3更新日志" tabindex="-1">ThingsPanel-Ver1.1.3更新日志 <a class="header-anchor" href="#thingspanel-ver1-1-3更新日志" aria-label="Permalink to “ThingsPanel-Ver1.1.3更新日志”">​</a></h2><h3 id="优化和修复-5" tabindex="-1">优化和修复 <a class="header-anchor" href="#优化和修复-5" aria-label="Permalink to “优化和修复”">​</a></h3><ul><li>遥测数据曲线展示Y轴范围自动展示</li><li>系统日志应该是客户端IP，而不是服务器IP</li><li>Modbus设备接入服务：在平台控制后，主动再去读一次状态</li><li>设置遥测预处理方法后，上报遥测数据后，刷新页面后不生效</li><li>选择某个服务点击后，左侧树自动回收了</li><li>属性列表的时间显示错误</li><li>租户，但是进去了显示是超管</li><li>增加服务健康检查接口</li><li>数据清理不彻底问题修复</li><li>规范项目目录结构</li><li>MQTT协议设备无法接收平台下发控制问题修复</li><li>修复日志记录的IP不是代理最前端的IP问题</li><li>修复控制指令历史记录没有用户的问题</li><li>删除操作异常返回日志修改</li><li>设备删除接口优化对相关数据的事务删除</li></ul><h2 id="thingspanel-ver1-1-2更新日志" tabindex="-1">ThingsPanel-Ver1.1.2更新日志 <a class="header-anchor" href="#thingspanel-ver1-1-2更新日志" aria-label="Permalink to “ThingsPanel-Ver1.1.2更新日志”">​</a></h2><h3 id="新增功能-5" tabindex="-1">新增功能 <a class="header-anchor" href="#新增功能-5" aria-label="Permalink to “新增功能”">​</a></h3><ul><li>看板主题： <ul><li>极简白</li><li>科技蓝</li><li>苹果紫</li><li>微软风</li><li>酷炫黑</li></ul></li><li>新增卡片： <ul><li>柱状图</li><li>数值控制（滑动）</li><li>数据下发</li><li>枚举控制</li><li>状态卡片</li><li>表格</li><li>文字信息</li><li>视频播放器</li></ul></li><li>MQTT网关控制下发，命令下发，属性下发BUG修复</li><li>增加账号共享和禁止共享开关</li><li>修复首次部署可能应为casbin数据库表失败的问题</li><li>增加系统日志详情功能</li><li>增加应用系统密码修改周期功能</li><li>增加会话超时功能</li><li>新增服务接入点功能</li><li>产品管理-预注册管理-增加删除设备功能</li><li>新增物模型-自定义控制device_model_custom_control</li><li>增加设备上线下线提醒</li><li>将之前的协议接入插件管理，升级成服务接入与协议接入两种方式</li><li>新增&quot;min&quot;, &quot;sum&quot;,&quot;diff&quot; 最小值 总和 最大最小差值聚合接口</li></ul><h3 id="优化和修复-6" tabindex="-1">优化和修复 <a class="header-anchor" href="#优化和修复-6" aria-label="Permalink to “优化和修复”">​</a></h3><ul><li>修复场景联动与场景管理中的触发器问题</li><li>设备模型中JSON复制不生效的问题</li><li>修复设备列表中接入方式选择器的错误</li><li>修复设备详情中布尔值在设备详情中显示的问题</li><li>修复看板关闭后再打开，数据不能及时更新的问题</li><li>修复左侧菜单失去路由，菜单收缩的问题</li><li>修复关掉一个标签页之后，缺省打开它右边的标签页，按照浏览器里的方式</li></ul><h2 id="thingspanel1-0-0更新日志" tabindex="-1">ThingsPanel1.0.0更新日志 <a class="header-anchor" href="#thingspanel1-0-0更新日志" aria-label="Permalink to “ThingsPanel1.0.0更新日志”">​</a></h2><p>ThingsPanel1.0.0是一个全新的版本，易用性有进一步的提升，有如下几个重大更新：</p><h3 id="整体更新" tabindex="-1">整体更新 <a class="header-anchor" href="#整体更新" aria-label="Permalink to “整体更新”">​</a></h3><ul><li>基于 Gin和Vue.js3.0、TypeScript重构</li><li>更换界面风格，支持多种样式，多种菜单布局。</li><li>概念简化，例如设备插件改名为设备模型，新增设备模板等。</li><li>设备接入框架全面升级，除了协议接入，也兼容了服务接入，接入能力更广泛。</li><li>扩充了看板的功能，可用于快速搭建各种个性化页面。</li><li>设备插件生成器升级，新增了App图表绑定功能。</li><li>同时支持常规接入（免学习）和预配置接入（效率高），折中方案共三种方式。</li><li>简化了产品管理和固件升级。</li></ul><h3 id="设备接入" tabindex="-1">设备接入 <a class="header-anchor" href="#设备接入" aria-label="Permalink to “设备接入”">​</a></h3><ul><li>升级了设备接入架构，使通过协议直接接入和服务、导入、编号、扫码都得以方便快速的进行。</li><li>成套设备的批量添加</li><li>单设备上千个遥测指标的快速接入</li><li>预注册与批量激活，同时支持一型一密和一机一密。</li><li>支持对使用一个设备模板的设备进行批量设置。</li></ul><h3 id="产品管理" tabindex="-1">产品管理 <a class="header-anchor" href="#产品管理" aria-label="Permalink to “产品管理”">​</a></h3><p>在产品和固件升级方面</p><ul><li>同时兼容一型一密和一机一密两种认证方式</li><li>设置单独产品管理功能，规避现场设备维护的设计模式，可远程维护设备</li></ul><h3 id="看板" tabindex="-1">看板 <a class="header-anchor" href="#看板" aria-label="Permalink to “看板”">​</a></h3><ul><li>看板覆盖超管、租户、用户三种角色、可自定义开发看板组件。</li><li>可通过并行开发方式开发个性化需求看板，并设置看板为菜单，满足各种场景需要。</li><li>可通过看板卡片开发方式实现页面个性化开发和并行高速开发，进度加速5-10倍。</li></ul><h3 id="技术栈" tabindex="-1">技术栈 <a class="header-anchor" href="#技术栈" aria-label="Permalink to “技术栈”">​</a></h3><ul><li>使用soybean框架，多种菜单布局和颜色风格，适配不同的业务场景。</li><li>使用Gin和Vue.js3.0、TypeScript等主流技术。</li></ul><h3 id="自动化与场景联动" tabindex="-1">自动化与场景联动 <a class="header-anchor" href="#自动化与场景联动" aria-label="Permalink to “自动化与场景联动”">​</a></h3><ul><li>新增服务触发，可以通过服务来触发设备操作。</li><li>解耦自动化与告警，使得告警的功能更强。</li><li>新增一类设备的快速批量设置自动化与告警规则。</li></ul><h3 id="用户前端" tabindex="-1">用户前端 <a class="header-anchor" href="#用户前端" aria-label="Permalink to “用户前端”">​</a></h3><ul><li>用户前端让完全不懂技术的人轻松操作。</li><li>具备设备接入、设备模板、自动化、告警等多种功能。</li><li>独立代码库可方便的二次开发自行扩展。</li></ul><h2 id="thingspanel-ver0-5-4更新日志" tabindex="-1">ThingsPanel-Ver0.5.4更新日志 <a class="header-anchor" href="#thingspanel-ver0-5-4更新日志" aria-label="Permalink to “ThingsPanel-Ver0.5.4更新日志”">​</a></h2><h3 id="新增功能-6" tabindex="-1">新增功能 <a class="header-anchor" href="#新增功能-6" aria-label="Permalink to “新增功能”">​</a></h3><ul><li>增加设备在线离线统计接口</li><li>增加告警数量统计接口</li><li>增加通过设备ID获取设备分组ID和项目ID的接口。</li><li>增加看板增删改查接口</li><li>增加看板功能，通过拖拽增加设备图表</li><li>修改租户首页，增加设备在线/离线率，告警列表，告警统计</li><li>增加可视化分享功能，可分享可视化大屏链接到其它系统</li></ul><h3 id="优化和修复-7" tabindex="-1">优化和修复 <a class="header-anchor" href="#优化和修复-7" aria-label="Permalink to “优化和修复”">​</a></h3><ul><li>修复了进入设备地图后，导致其他列表UI显示变动的问题</li><li>修复设备详情-设备历史数据排序问题</li><li>修复了可视化文本数据推送错误的Bug</li><li>修复了设备详情历史数据翻页错误的Bug</li><li>修复了设备详情接口切换Websocket导致数据更新时间错误。</li><li>优化设备详情时间展示效果，增加加载效果，使用服务器时间</li><li>修复设备详情数据图表默认展示，删除默认数据</li><li>修订了部分翻译</li></ul><h2 id="thingspanel-ver0-5-3" tabindex="-1">ThingsPanel-Ver0.5.3 <a class="header-anchor" href="#thingspanel-ver0-5-3" aria-label="Permalink to “ThingsPanel-Ver0.5.3”">​</a></h2><h3 id="新增功能-7" tabindex="-1">新增功能 <a class="header-anchor" href="#新增功能-7" aria-label="Permalink to “新增功能”">​</a></h3><ul><li>增加手机号注册组合功能</li><li>自动化增加事件和命令功能</li><li>获取设备数据和控制设备从HTTP接口换成WebSocket接口</li><li>设备插件增加属性下发组件、命令下发组件、文字信息组件</li><li>设备监控所有组件增加在线/离线状态、上一次推送时间</li><li>曲线图换成WebSocket接口，增加聚合功能</li><li>设备详情增加概览、属性上报、设备插件、设备日志 设备概览可直接查看属性的当前值、历史数据和时序图表</li><li>新增短信验证功能，超级管理员可配置短信服务</li></ul><h3 id="优化和修复-8" tabindex="-1">优化和修复 <a class="header-anchor" href="#优化和修复-8" aria-label="Permalink to “优化和修复”">​</a></h3><ul><li>修复了无法给用户分配菜单权限的问题</li><li>修复了开关组件无法实时更新状态的问题</li><li>增加Modbus协议</li></ul><h2 id="thingspanel-ver0-5-2" tabindex="-1">ThingsPanel-Ver0.5.2 <a class="header-anchor" href="#thingspanel-ver0-5-2" aria-label="Permalink to “ThingsPanel-Ver0.5.2”">​</a></h2><h3 id="新增功能-8" tabindex="-1">新增功能 <a class="header-anchor" href="#新增功能-8" aria-label="Permalink to “新增功能”">​</a></h3><ul><li>新增租户数据网关功能，为其它系统提供数据转发服务，支持创建多个接口。</li><li>新增全局数据库接口服务（SQL-to-HTTP）服务，支持通过SQL查询提供数据服务。</li></ul><h3 id="优化和修复-9" tabindex="-1">优化和修复 <a class="header-anchor" href="#优化和修复-9" aria-label="Permalink to “优化和修复”">​</a></h3><ul><li>用户密码修改优化</li><li>新增产品管理时，设置的设备插件不生效问题修复</li><li>网关存在上次推送时间，但不更新的问题修复</li><li>数据库表增加说明，部分表字段增加注释</li></ul><h2 id="thingspanel-ver0-5-0" tabindex="-1">ThingsPanel-Ver0.5.0 <a class="header-anchor" href="#thingspanel-ver0-5-0" aria-label="Permalink to “ThingsPanel-Ver0.5.0”">​</a></h2><h3 id="新增功能-9" tabindex="-1">新增功能 <a class="header-anchor" href="#新增功能-9" aria-label="Permalink to “新增功能”">​</a></h3><ul><li>新增多租户功能，新增系统管理员特有权限。</li><li>新增租户管理功能。</li><li>新增平台数据转发功能，支持MQTT转发和HTTP转发给第三方应用。</li><li>新增设备插件中定义事件和命令的功能。</li><li>新增设备详情中下发命令功能。</li><li>新增设备详情中查看命令、事件功能。</li><li>新增设备接入服务的编辑功能。</li><li>新增了HTTP设备接入服务。</li><li>新增了告警通知组功能。</li></ul><h3 id="优化和修复-10" tabindex="-1">优化和修复 <a class="header-anchor" href="#优化和修复-10" aria-label="Permalink to “优化和修复”">​</a></h3><ul><li>基于Antv可视化引擎重构了可视化编辑器。</li><li>产品管理在创建产品的时候选择插件做了优化，方便查看插件的物模型和绑定的图表单元。</li><li>产品管理导入批次新增了导入模板的下载。</li><li>产品管理在预注册列表中可以直接激活设备。</li><li>固件升级支持断点续传功能，新增了被动升级功能（当设备与当前版本不匹配的时候主动推送升级版本信息给设备）。</li><li>固件升级任务状态为已完成的支持被删除。</li><li>功能模块数据结构优化变更，新增了系统管理员独有部分和与租户管理员共有部分。</li></ul><h2 id="thingspanel-ver0-4-8" tabindex="-1">ThingsPanel-Ver0.4.8 <a class="header-anchor" href="#thingspanel-ver0-4-8" aria-label="Permalink to “ThingsPanel-Ver0.4.8”">​</a></h2><h3 id="新增功能-10" tabindex="-1">新增功能 <a class="header-anchor" href="#新增功能-10" aria-label="Permalink to “新增功能”">​</a></h3><ul><li>新增创建产品：选择设备插件、绑定协议、选择认证方式，为设备预注册提供基础配置。</li><li>新增批量管理：可创建设备批次并导出数据，也可以导入数据，支持一机一密。</li><li>新增二维码数据：可导出二维码数据供生产和用户端APP扫码快速添加设备。</li><li>新增手动激活：可以手动激活设备。</li><li>新增预注册管理：查看设备激活状态。</li><li>新增固件升级任务管理功能。</li><li>新增固件升级统计功能。</li><li>新增应用市场发布功能，可从系统中发布解析脚本、设备插件。</li><li>应用市场新增一键安装功能，可从市场下载插件安装到私有部署的平台上。</li><li>设备监控曲线图增加开始和结束时间过滤功能。</li><li>新增在线视频播放组件。</li></ul><h3 id="优化和修复-11" tabindex="-1">优化和修复 <a class="header-anchor" href="#优化和修复-11" aria-label="Permalink to “优化和修复”">​</a></h3><ul><li>优化双表盘显示功能。</li><li>优化仪表盘界面显示。</li><li>修复SQL注入、日志注入等漏洞。</li><li>修复MQTT在线不显示的Bug。</li><li>修复Gmqtt内存泄漏问题。</li><li>修复数据导出如果数量太大会失败问题；导出字符串相关的值都为0的问题。</li><li>修复Modbus设备接入服务多设备接入报文错乱问题。</li><li>优化Docker部署流程并在后端增加数据库初始化功能。</li><li>优化自动化日志和日志详情。</li><li>优化告警信息检索功能。</li><li>优化GB28181组件，将直播、控制、回放集成到一个设备插件里。</li></ul><h2 id="thingspanel-ver0-4-7" tabindex="-1">ThingsPanel-Ver0.4.7 <a class="header-anchor" href="#thingspanel-ver0-4-7" aria-label="Permalink to “ThingsPanel-Ver0.4.7”">​</a></h2><h3 id="新增功能-11" tabindex="-1">新增功能 <a class="header-anchor" href="#新增功能-11" aria-label="Permalink to “新增功能”">​</a></h3><ul><li>场景列表：列出添加的各种场景，支持跨项目场景。</li><li>场景日志：查看场景执行的情况。</li><li>新增场景： 批量添加可控的设备并添加状态</li><li>删除场景： 删除不需要的场景，不可恢复。</li><li>场景联动：实现设备自动化管理，设定报警</li><li>联动日志：生成联动日志，记录任务执行情况</li><li>联动模式：支持时间触发、设备触发，支持cron指令</li></ul><h3 id="优化和修复-12" tabindex="-1">优化和修复 <a class="header-anchor" href="#优化和修复-12" aria-label="Permalink to “优化和修复”">​</a></h3><ul><li>设备上线状态问题。</li><li>GMQTT内存泄漏问题</li><li>修复代码安全问题。</li></ul><h2 id="thingspanel-ver0-4-6" tabindex="-1">ThingsPanel-Ver0.4.6 <a class="header-anchor" href="#thingspanel-ver0-4-6" aria-label="Permalink to “ThingsPanel-Ver0.4.6”">​</a></h2><h3 id="新增功能-12" tabindex="-1">新增功能 <a class="header-anchor" href="#新增功能-12" aria-label="Permalink to “新增功能”">​</a></h3><ul><li>增加更换登录页背景功能。</li><li>增加GB28181视频功能（使用WVP方案）。</li><li>增加设备地图模块，查看设备在地图上的分布。</li><li>编辑器增加了曲线图、饼图、柱状图、文本，可绑定数据。</li><li>设备监控曲线增加了范围选择。</li><li>APP更新到0.4.5版本，新增设备写操作。</li></ul><h3 id="优化和修复-13" tabindex="-1">优化和修复 <a class="header-anchor" href="#优化和修复-13" aria-label="Permalink to “优化和修复”">​</a></h3><ul><li>修复控制台日志级别配置不生效问题</li><li>优化操作日志查询和首页消息总数查询；10w以上总数查询增加了短时间缓存。</li><li>优化登录失败异常返回</li><li>修复存在告警日志时，设备无法删除问题</li><li>修复mqtt网关设备无法接收上报属性消息的问题</li></ul><h2 id="thingspanel-ver0-4-5" tabindex="-1">ThingsPanel-Ver0.4.5 <a class="header-anchor" href="#thingspanel-ver0-4-5" aria-label="Permalink to “ThingsPanel-Ver0.4.5”">​</a></h2><h3 id="新增功能-13" tabindex="-1">新增功能 <a class="header-anchor" href="#新增功能-13" aria-label="Permalink to “新增功能”">​</a></h3><ul><li>增加了设备配置按钮，增加了设备位置信息的录入功能。</li><li>新增设备接入实时显示功能，可以设置阈值。</li><li>新增设备监控菜单，接入即可查看设备监控信息。</li><li>新增设备脚本支持处理透传协议的消息，支持mqtt协议接入发送字符串，二进制等类型的消息</li><li>新增上下行脚本函数msg参数类型由string变为[]byte（上个版本使用脚本的用户需要注意）</li><li>新增mqtt客户端启动重连、掉线重连，配置文件增加QoS配置</li><li>数据管理列表增加设备名称、数据标签模糊匹配，增加属性别名（设备字段的映射，在设备插件物模型中可定义）。</li><li>设备脚本表新增device_type字段。</li><li>设备插件生成器物模型中新增属性单位的录入，单位同时可显示在图表单元中。</li><li>新增定时控制增加异常校验。</li><li>新增自定义TCP协议、官方TCP设备接入服务。</li><li>新增设备接入服务自动注册和手动注册接口。</li><li>新增设备接入服务根据网关token和子设备地址查询子设备详情的接口。</li><li>新增了设备地图相关接口，为下个版本的设备地图功能提供支持。</li><li>新增mqtt客户端启动重连、掉线重连，配置文件增加QoS配置。</li><li>新增获取系统时间接口。</li><li>数据管理增加数据别名（物模型字段映射）</li><li>Docker镜像目录映射宿主机，把数据代码分离，方便升级(规则引擎升级-需要查找差分文件，gmqtt升级-用户密码文件需要查找差分文件)。</li><li>新增系统自带设备插件，包括开关和温湿度。</li><li>升级go到1.18。</li></ul><h3 id="优化和修复-14" tabindex="-1">优化和修复 <a class="header-anchor" href="#优化和修复-14" aria-label="Permalink to “优化和修复”">​</a></h3><ul><li>改进可视化逻辑，支持创建多个可视化。</li><li>设备管理列表的编辑参数界面优化了连接信息，点击即可复制，方便配置设备。</li><li>Modbus设备接入服务修复了部分BUG，优化了性能。</li><li>修复新增设备列表排序的Bug，方便查找。</li><li>系统操作日志查询改进显示速度。</li><li>网关类型的设备修改为直连设备类型需要删除子设备，避免误操作。</li><li>更新设备接入服务相关模块的逻辑和接口，提高了兼容性。</li><li>设备列表显示设备插件中图表单元标签，方便大家知道这个设备都有哪些图表可看。</li><li>优化设备管理在线离线状态(通过mqtt主题device/status接收设备在线离线状态，保存在内存中)</li><li>样式规范化。</li></ul><h2 id="thingspanel-ver0-4-0" tabindex="-1">ThingsPanel-Ver0.4.0 <a class="header-anchor" href="#thingspanel-ver0-4-0" aria-label="Permalink to “ThingsPanel-Ver0.4.0”">​</a></h2><p>2022-10-20发布</p><ul><li>设备接入支持子设备。</li><li>支持 MQTT 网关接入。</li><li>支持 Modbus 网关接入，支持 Modbus TCP/RTU 协议。</li><li>支持脚本解析器解析设备端发来的数据。</li><li>新增设备插件生成器，支持设备插件快速开发，自定义图表，支持导入导出。</li><li>新增设备接入服务功能，支持各种协议接入。</li><li>新增大屏编辑器，支持图表、组态、报表、3D（自行开发插件）。</li><li>新增支持物模型，并支持自定义。</li><li>新增设备安全认证。</li><li>修复角色权限问题。</li></ul><h2 id="thingspanel-ver0-3-0" tabindex="-1">ThingsPanel-Ver0.3.0 <a class="header-anchor" href="#thingspanel-ver0-3-0" aria-label="Permalink to “ThingsPanel-Ver0.3.0”">​</a></h2><h3 id="新增功能-14" tabindex="-1">新增功能 <a class="header-anchor" href="#新增功能-14" aria-label="Permalink to “新增功能”">​</a></h3><ul><li>增加了Redis作为缓存模块</li><li>增加了RBAC权限管理模块，使用的是Casbin权限框架，权限粒度具体到按钮或者接口</li><li>增加了角色管理页面</li><li>增加了权限管理页面</li><li>后端增加了对Docker环境变量的支持</li><li>简化了部署，增加了对华为云/阿里云的适配</li><li>增加了接入规则引擎和数据转发功能</li><li>重写了业务-设备分组-设备模块，支持设备无限分组</li><li>增加了操作设备的日志，支持查询手动操作和自动操作记录</li></ul><h3 id="优化和修复-15" tabindex="-1">优化和修复 <a class="header-anchor" href="#优化和修复-15" aria-label="Permalink to “优化和修复”">​</a></h3><ul><li>优化了首次登录加载速度</li><li>优化了整体的UI</li><li>优化了部分表索引和排序，提高了操作的流畅度</li><li>提高了压力测试标准，对各方面性能和结构进行了优化</li><li>优化了自动化的告警和控制策略</li><li>重写了用户添加功能和页面</li><li>优化了告警信息页面</li></ul><h2 id="thingspanel-ver0-2-0" tabindex="-1">ThingsPanel-Ver0.2.0 <a class="header-anchor" href="#thingspanel-ver0-2-0" aria-label="Permalink to “ThingsPanel-Ver0.2.0”">​</a></h2><h3 id="本次新增功能" tabindex="-1">本次新增功能 <a class="header-anchor" href="#本次新增功能" aria-label="Permalink to “本次新增功能”">​</a></h3><ul><li>增加了系统设置主菜单，支持更换系统上所有logo和系统名称</li><li>增加了设备属性功能，可以填入设备位置，以便在业务可视化中给设备定位</li><li>优化了tcp协议，增加了设备重置api接口</li><li>增加了外部扩展接口：根据设备id查询设备历史数据</li><li>增加了外部扩展接口：提供输入设备数据和图片的接口</li><li>数据管理中增加了图片预览功能，修复了时间不显示缺陷</li><li>增加了外部扩展接口：根据业务id查询业务下所有设备和设备当前值</li><li>增加了外部扩展接口：根据设备id查询设备当前值</li><li>增加了数据导出到excel功能</li><li>后台增加了日志模块，可在app.conf配置文件中配置拆分行数，8个日志级别，日志保存时间；sql日志记录在info级别</li><li>告警信息支持业务id，资产id，设备id检索</li><li>增加了动态加载logo，更换了加载风格</li></ul><h3 id="本次优化和修复的缺陷" tabindex="-1">本次优化和修复的缺陷 <a class="header-anchor" href="#本次优化和修复的缺陷" aria-label="Permalink to “本次优化和修复的缺陷”">​</a></h3><ul><li>修复了自动化预警“或”关联事件引起服务宕机问题</li><li>优化了可视化中切换资产出现的无法切换问题，并优化了切换加载速度</li><li>优化了登录页加载时间长的问题</li><li>优化了应用管理中图表字段换行会使盒子变高的问题</li><li>修复了温湿度可视化插件曲线图无法加载的缺陷</li><li>对所有插件的标题和布局进行了优化</li><li>优化了前端打包部署部分的配置，与docker一键部署形成了配合</li><li>优化了docker版本，支持在docker版本上更新前后端代码、前端代码和nginx配置</li><li>优化了数据管理的检索功能，修复了部分bug，增强了用户体验；</li><li>优化了业务中的编辑业务，降低了显示延迟；修改了部分名称</li></ul>',150)])])}const P=i(h,[["render",n]]);export{b as __pageData,P as default};
