import{_ as a,c as i,o as r,ah as s,fa as t,fb as l}from"./chunks/framework.BDBjiFeZ.js";const _=JSON.parse('{"title":"RTMP摄像头接入","description":"","frontmatter":{"sidebar_position":6},"headers":[],"relativePath":"zh_CN/device-connect/rtmp.md","filePath":"zh_CN/device-connect/rtmp.md"}'),n={name:"zh_CN/device-connect/rtmp.md"};function p(h,e,o,c,d,m){return r(),i("div",null,[...e[0]||(e[0]=[s(`<h1 id="rtmp摄像头接入" tabindex="-1">RTMP摄像头接入 <a class="header-anchor" href="#rtmp摄像头接入" aria-label="Permalink to “RTMP摄像头接入”">​</a></h1><p>RTMP（Real-Time Messaging Protocol）摄像头是指使用RTMP协议进行视频传输的摄像头设备。RTMP是一种实时流媒体传输协议，最初由Adobe开发，用于在互联网上实现音视频的传输和播放。</p><p>RTMP摄像头通过将视频数据编码为RTMP流，并通过网络传输到服务器，实现实时的视频传输和直播。这种摄像头通常包含内置的编码器，可以将视频数据压缩为RTMP格式，然后通过网络发送到指定的服务器。摄像头还可能包含麦克风和音频编码器，以支持同时传输音频和视频。</p><h2 id="准备工作" tabindex="-1">准备工作 <a class="header-anchor" href="#准备工作" aria-label="Permalink to “准备工作”">​</a></h2><ul><li>搭建服务</li><li>准备RTMP摄像头，测试可使用FFmpeg。</li><li>开放端口，分别是1935、1985、8080</li></ul><h2 id="操作步骤" tabindex="-1">操作步骤 <a class="header-anchor" href="#操作步骤" aria-label="Permalink to “操作步骤”">​</a></h2><h3 id="_1、搭建srs" tabindex="-1">1、搭建SRS <a class="header-anchor" href="#_1、搭建srs" aria-label="Permalink to “1、搭建SRS”">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>docker run --rm -it -p 1935:1935 -p 1985:1985 -p 8080:8080 \\</span></span>
<span class="line"><span>registry.cn-hangzhou.aliyuncs.com/ossrs/srs:4 ./objs/srs -c conf/docker.conf</span></span></code></pre></div><p>需要打开 1935 1985 8080 3个端口</p><p>访问服务器网址的8080端口</p><p><a href="http://124.223.111.248:8080/" target="_blank" rel="noreferrer">http://124.223.111.248:8080/</a></p><p>系统提示，推流到rtmp://124.223.111.248/live/livestream</p><p><img src="`+t+'" alt="SRS安装界面"></p><h3 id="_2、推流" tabindex="-1">2、推流 <a class="header-anchor" href="#_2、推流" aria-label="Permalink to “2、推流”">​</a></h3><p>如下使用FFmpeg模拟摄像头进行推流：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>ffmpeg -re -i ElectricityMeter.mp4 -c copy -f flv  rtmp://124.223.111.248/live/livestream</span></span></code></pre></div><p>推流之后，在srs的后台可获得3个地址： 查看播放地址</p><ul><li>RTMP (by VLC): rtmp://124.223.111.248/live/livestream</li><li>H5 FLV :<a href="http://124.223.111.248:8080/live/livestream.flv" target="_blank" rel="noreferrer">http://124.223.111.248:8080/live/livestream.flv</a></li><li>H5(HLS): <a href="http://124.223.111.248:8080/live/livestream.m3u8" target="_blank" rel="noreferrer">http://124.223.111.248:8080/live/livestream.m3u8</a></li></ul><h3 id="_3、在thingspanel中使用视频地址插件播放" tabindex="-1">3、在ThingsPanel中使用视频地址插件播放 <a class="header-anchor" href="#_3、在thingspanel中使用视频地址插件播放" aria-label="Permalink to “3、在ThingsPanel中使用视频地址插件播放”">​</a></h3><p><img src="'+l+'" alt="在ThingsPanel中播放RTMP视频流"></p>',20)])])}const f=a(n,[["render",p]]);export{_ as __pageData,f as default};
