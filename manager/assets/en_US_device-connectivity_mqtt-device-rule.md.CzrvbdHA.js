import{_ as i,c as t,o as a,ah as e}from"./chunks/framework.BDBjiFeZ.js";const c=JSON.parse('{"title":"Direct Device MQTT Interaction Spec","description":"","frontmatter":{"sidebar_position":11},"headers":[],"relativePath":"en_US/device-connectivity/mqtt-device-rule.md","filePath":"en_US/device-connectivity/mqtt-device-rule.md"}'),n={name:"en_US/device-connectivity/mqtt-device-rule.md"};function l(h,s,r,d,p,o){return a(),t("div",null,[...s[0]||(s[0]=[e(`<h1 id="direct-device-mqtt-interaction-spec" tabindex="-1">Direct Device MQTT Interaction Spec <a class="header-anchor" href="#direct-device-mqtt-interaction-spec" aria-label="Permalink to ‚ÄúDirect Device MQTT Interaction Spec‚Äù">‚Äã</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to ‚ÄúOverview‚Äù">‚Äã</a></h2><p>This specification describes the technical requirements for connecting direct devices to the ThingsPanel platform via the MQTT protocol, defining the data interaction format and communication protocol between the device and the platform.</p><h2 id="core-concepts" tabindex="-1">Core Concepts <a class="header-anchor" href="#core-concepts" aria-label="Permalink to ‚ÄúCore Concepts‚Äù">‚Äã</a></h2><div class="info custom-block"><p class="custom-block-title">Four Core Data Types</p><p>Before starting, understanding these four core concepts is crucial:</p><ul><li><strong>üîÑ Telemetry</strong> - Real-time data reported by devices, usually measurements changing over time. <ul><li>Example: Temperature readings reported periodically.</li></ul></li><li><strong>üìã Attributes</strong> - Static or less frequently changing characteristics of devices. <ul><li>Example: Device IP, MAC address, or firmware version.</li></ul></li><li><strong>üéØ Events</strong> - Specific events or state changes occurring in devices. <ul><li>Example: Motion detected or device boot completed.</li></ul></li><li><strong>‚ö° Commands</strong> - Control instructions sent from the platform to devices. <ul><li>Example: Turn on light or reboot device.</li></ul></li></ul></div><h2 id="key-parameters" tabindex="-1">Key Parameters <a class="header-anchor" href="#key-parameters" aria-label="Permalink to ‚ÄúKey Parameters‚Äù">‚Äã</a></h2><h3 id="üìç-message-id" tabindex="-1">üìç message_id <a class="header-anchor" href="#üìç-message-id" aria-label="Permalink to ‚Äúüìç message_id‚Äù">‚Äã</a></h3><ul><li><strong>Function</strong>: Unique message identifier to ensure no duplication. No length limit.</li><li><strong>Suggestion</strong>: Use the last 7 digits of the timestamp (ms).</li><li><strong>Requirement</strong>: Unique within a short period.</li></ul><h3 id="üè∑Ô∏è-device-number-device-id" tabindex="-1">üè∑Ô∏è device_number (Device ID) <a class="header-anchor" href="#üè∑Ô∏è-device-number-device-id" aria-label="Permalink to ‚Äúüè∑Ô∏è device_number (Device ID)‚Äù">‚Äã</a></h3><ul><li><strong>Function</strong>: Unique identifier of the device in the system.</li><li><strong>Requirement</strong>: Globally unique, no duplicates.</li></ul><h3 id="üé≠-method" tabindex="-1">üé≠ method <a class="header-anchor" href="#üé≠-method" aria-label="Permalink to ‚Äúüé≠ method‚Äù">‚Äã</a></h3><ul><li><strong>Definition</strong>: String identifying a specific command or event type.</li><li><strong>Command Examples</strong>: <code>&quot;SetTemperature&quot;</code>, <code>&quot;TurnOnLight&quot;</code>, <code>&quot;RebootDevice&quot;</code></li><li><strong>Event Examples</strong>: <code>&quot;TemperatureExceeded&quot;</code>, <code>&quot;MotionDetected&quot;</code>, <code>&quot;BatteryLow&quot;</code></li></ul><h3 id="‚öôÔ∏è-params" tabindex="-1">‚öôÔ∏è params <a class="header-anchor" href="#‚öôÔ∏è-params" aria-label="Permalink to ‚Äú‚öôÔ∏è params‚Äù">‚Äã</a></h3><ul><li><strong>Function</strong>: Contains detailed info or data related to the method.</li><li><strong>Command Scenario</strong>: Provides specific parameters needed for command execution.</li><li><strong>Event Scenario</strong>: Contains data describing the event.</li></ul><h2 id="mqtt-authentication-rules" tabindex="-1">MQTT Authentication Rules <a class="header-anchor" href="#mqtt-authentication-rules" aria-label="Permalink to ‚ÄúMQTT Authentication Rules‚Äù">‚Äã</a></h2><div class="warning custom-block"><p class="custom-block-title">Auth Requirements</p><h3 id="üîê-uniqueness" tabindex="-1">üîê Uniqueness <a class="header-anchor" href="#üîê-uniqueness" aria-label="Permalink to ‚Äúüîê Uniqueness‚Äù">‚Äã</a></h3><ul><li><strong>Username + Password</strong> combination must be globally unique.</li><li><strong>ClientID</strong> must be globally unique.</li></ul><h3 id="üîÑ-consistency" tabindex="-1">üîÑ Consistency <a class="header-anchor" href="#üîÑ-consistency" aria-label="Permalink to ‚ÄúüîÑ Consistency‚Äù">‚Äã</a></h3><ul><li>Devices must use the same auth info for every connection.</li><li>Keep ClientID, Username, and Password consistent.</li></ul></div><h2 id="mqtt-topic-specification" tabindex="-1">MQTT Topic Specification <a class="header-anchor" href="#mqtt-topic-specification" aria-label="Permalink to ‚ÄúMQTT Topic Specification‚Äù">‚Äã</a></h2><div class="tip custom-block"><p class="custom-block-title">Flexible Implementation</p><p><strong>Important</strong>: Devices do not need to implement all listed MQTT topics. Selectively implement relevant topics based on specific device functions and scenarios.</p></div><h3 id="device-publish-topics" tabindex="-1">Device Publish Topics <a class="header-anchor" href="#device-publish-topics" aria-label="Permalink to ‚ÄúDevice Publish Topics‚Äù">‚Äã</a></h3><table tabindex="0"><thead><tr><th>Topic</th><th>Description</th><th>Data Type</th><th>Required</th></tr></thead><tbody><tr><td><code>devices/telemetry</code></td><td>Report telemetry data</td><td>Telemetry</td><td>Optional</td></tr><tr><td><code>devices/attributes/{message_id}</code></td><td>Report attributes</td><td>Attributes</td><td>Optional</td></tr><tr><td><code>devices/event/{message_id}</code></td><td>Report events</td><td>Events</td><td>Optional</td></tr><tr><td><code>ota/devices/progress</code></td><td>Report OTA progress</td><td>OTA</td><td>Optional</td></tr><tr><td><code>devices/command/response/{message_id}</code></td><td>Command response</td><td>Response</td><td>Optional</td></tr><tr><td><code>devices/attributes/set/response/{message_id}</code></td><td>Attribute set response</td><td>Response</td><td>Optional</td></tr></tbody></table><h3 id="device-subscribe-topics" tabindex="-1">Device Subscribe Topics <a class="header-anchor" href="#device-subscribe-topics" aria-label="Permalink to ‚ÄúDevice Subscribe Topics‚Äù">‚Äã</a></h3><p>:::note Topic Note <strong>Note:</strong> <code>+</code> is a wildcard for <code>message_id</code>, <code>{device_number}</code> is the specific device ID. :::</p><table tabindex="0"><thead><tr><th>Topic</th><th>Description</th><th>Data Type</th><th>Required</th></tr></thead><tbody><tr><td><code>devices/telemetry/control/{device_number}</code></td><td>Receive control commands</td><td>Control</td><td>Optional</td></tr><tr><td><code>devices/attributes/set/{device_number}/+</code></td><td>Receive attribute set commands</td><td>Attribute Set</td><td>Optional</td></tr><tr><td><code>devices/attributes/get/{device_number}</code></td><td>Receive attribute get requests</td><td>Attribute Get</td><td>Optional</td></tr><tr><td><code>devices/command/{device_number}/+</code></td><td>Receive command execution requests</td><td>Command</td><td>Optional</td></tr><tr><td><code>ota/devices/inform/{device_number}</code></td><td>Receive OTA tasks</td><td>OTA</td><td>Optional</td></tr><tr><td><code>devices/attributes/response/{device_number}/+</code></td><td>Receive attribute response ack</td><td>Response Ack</td><td>Optional</td></tr><tr><td><code>devices/event/response/{device_number}/+</code></td><td>Receive event response ack</td><td>Response Ack</td><td>Optional</td></tr></tbody></table><h2 id="data-interaction-format" tabindex="-1">Data Interaction Format <a class="header-anchor" href="#data-interaction-format" aria-label="Permalink to ‚ÄúData Interaction Format‚Äù">‚Äã</a></h2><h3 id="üîÑ-telemetry-reporting" tabindex="-1">üîÑ Telemetry Reporting <a class="header-anchor" href="#üîÑ-telemetry-reporting" aria-label="Permalink to ‚ÄúüîÑ Telemetry Reporting‚Äù">‚Äã</a></h3><p><strong>Topic:</strong> <code>devices/telemetry</code></p><h4 id="real-time-mode" tabindex="-1">Real-time Mode <a class="header-anchor" href="#real-time-mode" aria-label="Permalink to ‚ÄúReal-time Mode‚Äù">‚Äã</a></h4><p>Direct key-value pairs. System uses server reception time as timestamp.</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;temperature&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;humidity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">65.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;switch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="historical-mode" tabindex="-1">Historical Mode <a class="header-anchor" href="#historical-mode" aria-label="Permalink to ‚ÄúHistorical Mode‚Äù">‚Äã</a></h4><p>Time-series array format. Each record contains timestamp and values.</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1609459200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;values&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;temperature&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">22.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;humidity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1609462800</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;values&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;temperature&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">23.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;humidity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">61.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">Format Recognition</p><ul><li><strong>Real-time</strong>: Root level is key-value object.</li><li><strong>Historical</strong>: Root level is array, elements contain <code>ts</code> and <code>values</code>.</li></ul><p><strong>Field Description:</strong></p><ul><li><code>ts</code>: Unix timestamp (seconds).</li><li><code>values</code>: Telemetry key-value pairs at that time.</li></ul></div><h3 id="üìã-attribute-reporting" tabindex="-1">üìã Attribute Reporting <a class="header-anchor" href="#üìã-attribute-reporting" aria-label="Permalink to ‚Äúüìã Attribute Reporting‚Äù">‚Äã</a></h3><p><strong>Topic:</strong> <code>devices/attributes/{message_id}</code></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ip&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;192.168.1.100&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;mac&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;00:11:22:33:44:55&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="üéØ-event-reporting" tabindex="-1">üéØ Event Reporting <a class="header-anchor" href="#üéØ-event-reporting" aria-label="Permalink to ‚ÄúüéØ Event Reporting‚Äù">‚Äã</a></h3><p><strong>Topic:</strong> <code>devices/event/{message_id}</code></p><h4 id="real-time-mode-1" tabindex="-1">Real-time Mode <a class="header-anchor" href="#real-time-mode-1" aria-label="Permalink to ‚ÄúReal-time Mode‚Äù">‚Äã</a></h4><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;method&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;AlarmTriggered&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;params&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;level&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;high&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;sensor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;temperature&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="historical-mode-1" tabindex="-1">Historical Mode <a class="header-anchor" href="#historical-mode-1" aria-label="Permalink to ‚ÄúHistorical Mode‚Äù">‚Äã</a></h4><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1609459200000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;method&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;AlarmTriggered&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;params&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;level&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;high&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;sensor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;temperature&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1609462800000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;method&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;DeviceStarted&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;params&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;mode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;normal&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">Format Recognition</p><ul><li><strong>Real-time</strong>: Root contains <code>method</code> and no <code>ts</code>.</li><li><strong>Historical</strong>: Root is array, elements contain <code>ts</code> and <code>method</code>.</li></ul><p><strong>Field Description:</strong></p><ul><li><code>ts</code>: Unix timestamp (milliseconds).</li><li><code>method</code>: Event name, required.</li><li><code>params</code>: Event parameters, optional.</li></ul></div><h3 id="üì¶-ota-progress-reporting" tabindex="-1">üì¶ OTA Progress Reporting <a class="header-anchor" href="#üì¶-ota-progress-reporting" aria-label="Permalink to ‚Äúüì¶ OTA Progress Reporting‚Äù">‚Äã</a></h3><p><strong>Topic:</strong> <code>ota/devices/progress</code></p><p><strong>Success:</strong></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;step&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;100&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;desc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Upgrade 100%&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;module&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MCU&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Failure:</strong></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;step&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;desc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;OTA Failed, download failed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;module&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MCU&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="step-description" tabindex="-1">Step Description <a class="header-anchor" href="#step-description" aria-label="Permalink to ‚ÄúStep Description‚Äù">‚Äã</a></h4><table tabindex="0"><thead><tr><th>Step</th><th>Description</th></tr></thead><tbody><tr><td><code>1-100</code></td><td>Progress percentage</td></tr><tr><td><code>-1</code></td><td>Upgrade failed</td></tr><tr><td><code>-2</code></td><td>Download failed</td></tr><tr><td><code>-3</code></td><td>Verification failed</td></tr><tr><td><code>-4</code></td><td>Flash failed</td></tr></tbody></table><h3 id="‚ö°-receive-control-commands" tabindex="-1">‚ö° Receive Control Commands <a class="header-anchor" href="#‚ö°-receive-control-commands" aria-label="Permalink to ‚Äú‚ö° Receive Control Commands‚Äù">‚Äã</a></h3><p><strong>Topic:</strong> <code>devices/telemetry/control/{device_number}</code></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;temperature&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;brightness&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;switch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="üìã-receive-attribute-set" tabindex="-1">üìã Receive Attribute Set <a class="header-anchor" href="#üìã-receive-attribute-set" aria-label="Permalink to ‚Äúüìã Receive Attribute Set‚Äù">‚Äã</a></h3><p><strong>Topic:</strong> <code>devices/attributes/set/{device_number}/+</code></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ip&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;192.168.1.100&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;heartbeat&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;report_interval&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="üîç-receive-attribute-get" tabindex="-1">üîç Receive Attribute Get <a class="header-anchor" href="#üîç-receive-attribute-get" aria-label="Permalink to ‚Äúüîç Receive Attribute Get‚Äù">‚Äã</a></h3><p><strong>Topic:</strong> <code>devices/attributes/get/{device_number}</code></p><p><strong>Get All:</strong></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;keys&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Get Specific:</strong></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;keys&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;temperature&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;humidity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="‚ö°-receive-command-execution" tabindex="-1">‚ö° Receive Command Execution <a class="header-anchor" href="#‚ö°-receive-command-execution" aria-label="Permalink to ‚Äú‚ö° Receive Command Execution‚Äù">‚Äã</a></h3><p><strong>Topic:</strong> <code>devices/command/{device_number}/+</code></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;method&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Restart&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;params&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;delay&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;mode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;safe&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="üì¶-receive-ota-task" tabindex="-1">üì¶ Receive OTA Task <a class="header-anchor" href="#üì¶-receive-ota-task" aria-label="Permalink to ‚Äúüì¶ Receive OTA Task‚Äù">‚Äã</a></h3><p><strong>Topic:</strong> <code>ota/devices/inform/{device_number}</code></p><h4 id="ota-task-params" tabindex="-1">OTA Task Params <a class="header-anchor" href="#ota-task-params" aria-label="Permalink to ‚ÄúOTA Task Params‚Äù">‚Äã</a></h4><table tabindex="0"><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code></td><td>Long</td><td>Message ID</td></tr><tr><td><code>code</code></td><td>String</td><td>Status code</td></tr><tr><td><code>version</code></td><td>String</td><td>Version info</td></tr><tr><td><code>size</code></td><td>Long</td><td>Size in bytes</td></tr><tr><td><code>url</code></td><td>String</td><td>Download URL</td></tr><tr><td><code>sign</code></td><td>String</td><td>Signature</td></tr><tr><td><code>signMethod</code></td><td>String</td><td>SHA256, MD5</td></tr><tr><td><code>module</code></td><td>String</td><td>Module name</td></tr><tr><td><code>extData</code></td><td>Object</td><td>Extra info</td></tr></tbody></table><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1001&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;params&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2.0.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;size&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/firmware/device_v2.0.1.bin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;signMethod&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MD5&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;sign&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;d41d8cd98f00b204e9800998ecf8427e&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;module&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MCU&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;extData&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Fix temperature sensor bug&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;mandatory&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="response-format" tabindex="-1">Response Format <a class="header-anchor" href="#response-format" aria-label="Permalink to ‚ÄúResponse Format‚Äù">‚Äã</a></h2><h3 id="response-params" tabindex="-1">Response Params <a class="header-anchor" href="#response-params" aria-label="Permalink to ‚ÄúResponse Params‚Äù">‚Äã</a></h3><table tabindex="0"><thead><tr><th>Param</th><th>Required</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>result</code></td><td>‚úÖ</td><td>number</td><td>Result: <code>0</code>-Success, <code>1</code>-Fail</td></tr><tr><td><code>errcode</code></td><td>‚ùå</td><td>string</td><td>Error code (if fail)</td></tr><tr><td><code>message</code></td><td>‚úÖ</td><td>string</td><td>Message content</td></tr><tr><td><code>ts</code></td><td>‚ùå</td><td>number</td><td>Timestamp (s)</td></tr><tr><td><code>method</code></td><td>‚ùå</td><td>string</td><td>Method name</td></tr></tbody></table><h3 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to ‚ÄúExamples‚Äù">‚Äã</a></h3><p><strong>Success:</strong></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;result&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1609459200</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Failure:</strong></p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;result&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;errcode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;INVALID_PARAM&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Parameter validation failed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1609459200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;method&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Restart&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to ‚ÄúBest Practices‚Äù">‚Äã</a></h2><div class="tip custom-block"><p class="custom-block-title">Development Tips</p><ol><li><strong>Message ID</strong>: Suggest last 7 digits of timestamp.</li><li><strong>Selective Implementation</strong>: Only implement necessary topics.</li><li><strong>Auth Info</strong>: Keep consistent.</li><li><strong>Error Handling</strong>: Implement full error response.</li><li><strong>Data Validation</strong>: Validate JSON.</li><li><strong>Keep Alive</strong>: Implement MQTT heartbeat.</li><li><strong>Reconnection</strong>: Auto reconnect on network error.</li><li><strong>OTA</strong>: Report progress.</li></ol></div>`,81)])])}const E=i(n,[["render",l]]);export{c as __pageData,E as default};
