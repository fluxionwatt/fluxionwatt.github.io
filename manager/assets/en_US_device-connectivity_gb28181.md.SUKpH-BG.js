import{_ as i,c as a,o as s,ah as t,b8 as n}from"./chunks/framework.BDBjiFeZ.js";const k=JSON.parse('{"title":"GB28181 Security Camera","description":"","frontmatter":{"sidebar_position":8},"headers":[],"relativePath":"en_US/device-connectivity/gb28181.md","filePath":"en_US/device-connectivity/gb28181.md"}'),r={name:"en_US/device-connectivity/gb28181.md"};function o(l,e,d,c,h,p){return s(),a("div",null,[...e[0]||(e[0]=[t(`<h1 id="gb28181-security-camera" tabindex="-1">GB28181 Security Camera <a class="header-anchor" href="#gb28181-security-camera" aria-label="Permalink to “GB28181 Security Camera”">​</a></h1><ul><li>Use ThingsPanel GB28181 Device Connectivity Service to directly access national standard cameras.</li><li>Default built-in function, requires additional configuration of GB28181 device connectivity service.</li><li>Supported since version 0.4.6.</li></ul><h2 id="what-is-gb28181-protocol" tabindex="-1">What is GB28181 Protocol? <a class="header-anchor" href="#what-is-gb28181-protocol" aria-label="Permalink to “What is GB28181 Protocol?”">​</a></h2><p>GB28181 is the national standard for video surveillance in China. GB28181 refers to the national standard GB/T 28181—2016 &quot;Technical Requirements for Information Transmission, Exchange, and Control of Public Security Video Surveillance Networking Systems&quot;.</p><p>The standard specifies the interconnection structure, basic requirements for transmission, exchange, control, and security requirements, as well as technical requirements for control, transmission processes, and protocol interfaces for public security video surveillance networking systems. The GB28181 protocol uses SIP (Session Initiation Protocol) at the signaling level.</p><p>The streaming media transmission level uses the Real-time Transport Protocol (RTP). Therefore, GB28181 can be understood as a privatization customization based on international general standards to meet the standardization needs of video surveillance networking system interconnection transmission. This article aims to explain adding support for the GB28181 protocol in FFmpeg, enabling it to communicate and control devices supporting the GB28181 protocol, realizing device registration, keep-alive, and streaming media transmission.</p><h2 id="supported-features" tabindex="-1">Supported Features <a class="header-anchor" href="#supported-features" aria-label="Permalink to “Supported Features”">​</a></h2><ul><li>National standard cascade camera access.</li><li>Real-time video stream monitoring.</li><li>PTZ control.</li><li>Recording and playback functions.</li></ul><h2 id="adopted-solution" tabindex="-1">Adopted Solution <a class="header-anchor" href="#adopted-solution" aria-label="Permalink to “Adopted Solution”">​</a></h2><ul><li>GB28181 access uses <a href="https://github.com/ZLMediaKit/ZLMediaKit" target="_blank" rel="noreferrer">wvp-GB28181-pro</a> project <ul><li>WEB VIDEO PLATFORM is a network video platform based on GB28181-2016 standard, supporting NAT traversal, access for IPC, NVR, DVR of brands like Hikvision, Dahua, Uniview. Supports national standard cascading, supports RTSP/RTMP stream forwarding to national standard platform. Used under MIT license. ThingsPanel uses this project but has not done secondary development based on it.</li></ul></li><li>Streaming media platform uses <a href="https://github.com/ZLMediaKit/ZLMediaKit" target="_blank" rel="noreferrer">ZLMediaKit</a><ul><li>ZLMediaKit is a high-performance carrier-grade streaming media service framework based on C++11. Used under MIT license. ThingsPanel uses this project but has not done secondary development based on it.</li></ul></li></ul><h2 id="configuration-process" tabindex="-1">Configuration Process <a class="header-anchor" href="#configuration-process" aria-label="Permalink to “Configuration Process”">​</a></h2><p>To add GB28181 access to ThingsPanel platform, follow these steps:</p><ol><li>Install WVP Service</li><li>Add GB28181 Device Connectivity Service</li></ol><h3 id="install-wvp-service" tabindex="-1">Install WVP Service <a class="header-anchor" href="#install-wvp-service" aria-label="Permalink to “Install WVP Service”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 648540858/wvp_pro</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> WVP_IP=&quot;192.168.31.10&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -it</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 18080:18080</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 30000-30500:30000-30500/udp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 30000-30500:30000-30500/tcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 80:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 5060:5060</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 5060:5060/udp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 648540858/wvp_pro</span></span></code></pre></div><p>Then visit 192.168.31.10:18080 (Cloud may need port opening).</p><h2 id="usage-process" tabindex="-1">Usage Process <a class="header-anchor" href="#usage-process" aria-label="Permalink to “Usage Process”">​</a></h2><ol><li>If no device connectivity service, register one first (App Management -&gt; Access Protocols -&gt; Register Device Connectivity Service).</li></ol><table tabindex="0"><thead><tr><th>Name</th><th>Device Type</th><th>Protocol Type</th><th>Access Address</th><th>HTTP Server Address</th><th>Service Subscribe Topic Prefix</th><th>Author</th><th>Description</th></tr></thead><tbody><tr><td>GB28181</td><td>Gateway</td><td>WVP_01</td><td>127.0.0.1:18080</td><td>http://127.0.0.1:18080||admin||admin</td><td>-</td><td>-</td><td>-</td></tr></tbody></table><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>Explanation:</span></span>
<span class="line"><span>Device Type: Must select Gateway</span></span>
<span class="line"><span>Protocol Type: Must start with WVP_</span></span>
<span class="line"><span>Access Address: No actual effect, displayed in connection info.</span></span>
<span class="line"><span>HTTP Server Address: Required, WVP service address, followed by username and password separated by ||; Address for ThingsPanel to interact with WVP platform.</span></span></code></pre></div><ol start="3"><li>Add device and select GB28181 Camera as Device Connectivity Service.</li><li>Select GB28181 Protocol.</li><li>Configure IP, Port, Domain ID, Username, Password on device side. <img src="`+n+'" alt=""></li><li>View video stream in Device Monitoring.</li></ol>',21)])])}const g=i(r,[["render",o]]);export{k as __pageData,g as default};
