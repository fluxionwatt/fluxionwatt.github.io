import{_ as a,c as s,o as e,ah as t,bG as r,bH as n}from"./chunks/framework.BDBjiFeZ.js";const g=JSON.parse('{"title":"RTMP Camera","description":"","frontmatter":{"sidebar_position":6},"headers":[],"relativePath":"en_US/device-connectivity/rtmp.md","filePath":"en_US/device-connectivity/rtmp.md"}'),l={name:"en_US/device-connectivity/rtmp.md"};function h(p,i,o,d,k,c){return e(),s("div",null,[...i[0]||(i[0]=[t(`<h1 id="rtmp-camera" tabindex="-1">RTMP Camera <a class="header-anchor" href="#rtmp-camera" aria-label="Permalink to “RTMP Camera”">​</a></h1><p>RTMP (Real-Time Messaging Protocol) cameras are camera devices that use the RTMP protocol for video transmission. RTMP is a real-time streaming media transmission protocol originally developed by Adobe for audio and video transmission and playback on the Internet.</p><p>RTMP cameras encode video data into RTMP streams and transmit them to a server via the network to achieve real-time video transmission and live broadcasting. Such cameras usually contain a built-in encoder capable of compressing video data into RTMP format and sending it to a specified server over the network. The camera may also include a microphone and audio encoder to support simultaneous transmission of audio and video.</p><h2 id="preparation" tabindex="-1">Preparation <a class="header-anchor" href="#preparation" aria-label="Permalink to “Preparation”">​</a></h2><ul><li>Set up service</li><li>Prepare RTMP camera, use FFmpeg for testing.</li><li>Open ports: 1935, 1985, 8080</li></ul><h2 id="steps" tabindex="-1">Steps <a class="header-anchor" href="#steps" aria-label="Permalink to “Steps”">​</a></h2><h3 id="_1-set-up-srs" tabindex="-1">1. Set up SRS <a class="header-anchor" href="#_1-set-up-srs" aria-label="Permalink to “1. Set up SRS”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -it</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1935:1935</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1985:1985</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8080:8080</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">registry.cn-hangzhou.aliyuncs.com/ossrs/srs:4 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">./objs/srs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> conf/docker.conf</span></span></code></pre></div><p>Need to open 3 ports: 1935, 1985, 8080.</p><p>Visit port 8080 of the server URL:</p><p><a href="http://124.223.111.248:8080/" target="_blank" rel="noreferrer">http://124.223.111.248:8080/</a></p><p>System prompt: Push stream to <code>rtmp://124.223.111.248/live/livestream</code></p><p><img src="`+r+'" alt="SRS Interface"></p><h3 id="_2-push-stream" tabindex="-1">2. Push Stream <a class="header-anchor" href="#_2-push-stream" aria-label="Permalink to “2. Push Stream”">​</a></h3><p>Use FFmpeg to simulate camera push:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ffmpeg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -re</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ElectricityMeter.mp4</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> copy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  rtmp://124.223.111.248/live/livestream</span></span></code></pre></div><p>After pushing, you can get 3 addresses in the SRS background: View playback address</p><ul><li>RTMP (by VLC): rtmp://124.223.111.248/live/livestream</li><li>H5 FLV :<a href="http://124.223.111.248:8080/live/livestream.flv" target="_blank" rel="noreferrer">http://124.223.111.248:8080/live/livestream.flv</a></li><li>H5(HLS): <a href="http://124.223.111.248:8080/live/livestream.m3u8" target="_blank" rel="noreferrer">http://124.223.111.248:8080/live/livestream.m3u8</a></li></ul><h3 id="_3-play-video-address-plugin-in-thingspanel" tabindex="-1">3. Play Video Address Plugin in ThingsPanel <a class="header-anchor" href="#_3-play-video-address-plugin-in-thingspanel" aria-label="Permalink to “3. Play Video Address Plugin in ThingsPanel”">​</a></h3><p><img src="'+n+'" alt="Play RTMP Video in ThingsPanel"></p>',20)])])}const F=a(l,[["render",h]]);export{g as __pageData,F as default};
