import{_ as e,c as a,o as i,ah as r,bc as d,bd as n}from"./chunks/framework.BDBjiFeZ.js";const b=JSON.parse('{"title":"Modbus TCP Direct","description":"","frontmatter":{"sidebar_position":4},"headers":[],"relativePath":"en_US/device-connectivity/modbus-tcp-direct.md","filePath":"en_US/device-connectivity/modbus-tcp-direct.md"}'),s={name:"en_US/device-connectivity/modbus-tcp-direct.md"};function o(l,t,c,h,p,g){return i(),a("div",null,[...t[0]||(t[0]=[r('<h1 id="modbus-tcp-direct" tabindex="-1">Modbus TCP Direct <a class="header-anchor" href="#modbus-tcp-direct" aria-label="Permalink to “Modbus TCP Direct”">​</a></h1><h2 id="_1-functional-overview" tabindex="-1">1. Functional Overview <a class="header-anchor" href="#_1-functional-overview" aria-label="Permalink to “1. Functional Overview”">​</a></h2><p>ThingsPanel&#39;s Modbus TCP access service supports direct connection to industrial devices, automatically collecting data and reporting to the platform. Key features:</p><ul><li><strong>Visual Configuration</strong>: Web interface to configure device parameters and data address tables.</li><li><strong>Smart Polling</strong>: Flexible data collection strategies and cycle configuration.</li><li><strong>Device Control</strong>: Supports writing to coils and registers for control.</li><li><strong>Connection Management</strong>: Automatic reconnection, connection pool management, status monitoring.</li></ul><h2 id="_2-quick-start" tabindex="-1">2. Quick Start <a class="header-anchor" href="#_2-quick-start" aria-label="Permalink to “2. Quick Start”">​</a></h2><p>Prerequisite: Modbus TCP connectivity service is deployed and registered to the platform.</p><h3 id="_2-1-prepare-device-information" tabindex="-1">2.1 Prepare Device Information <a class="header-anchor" href="#_2-1-prepare-device-information" aria-label="Permalink to “2.1 Prepare Device Information”">​</a></h3><p>Collect the following device information before configuration:</p><table tabindex="0"><thead><tr><th>Parameter</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>IP Address</td><td>Device IP Address</td><td>192.168.1.100</td></tr><tr><td>Port</td><td>Modbus TCP Port</td><td>502</td></tr><tr><td>Slave ID</td><td>Device SlaveID</td><td>1</td></tr><tr><td>Data Address</td><td>Register Address Range</td><td>40001-40010</td></tr></tbody></table><h3 id="_2-2-create-device-template" tabindex="-1">2.2 Create Device Template <a class="header-anchor" href="#_2-2-create-device-template" aria-label="Permalink to “2.2 Create Device Template”">​</a></h3><p><img src="'+d+'" alt="Create Device Template"></p><ol><li>Go to <strong>Device Connectivity</strong> - <strong>Device Templates</strong>.</li><li>Select Access Type: Direct Device.</li><li>Select Modbus TCP (Direct), set Authentication Type to None.</li><li>Fill in Collection Interval, enable Address Merge Optimization if needed.</li><li>Configure Collection Parameters as follows:</li></ol><table tabindex="0"><thead><tr><th>Config Data</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>Data Point Name</td><td>Unique Identifier</td><td>temperature</td></tr><tr><td>Function Code</td><td>Modbus Function Code</td><td>03 (Read Holding Registers)</td></tr><tr><td>Start Address</td><td>Register Address</td><td>40001</td></tr><tr><td>Data Type</td><td>Data Parsing Type</td><td>Float32</td></tr><tr><td>Endianness</td><td>Big/Little Endian</td><td>Big Endian</td></tr><tr><td>Scaling Factor</td><td>Optional, Value Scaling</td><td>0.1</td></tr><tr><td>Unit</td><td>Optional</td><td>°C</td></tr></tbody></table><h3 id="_2-3-create-device" tabindex="-1">2.3 Create Device <a class="header-anchor" href="#_2-3-create-device" aria-label="Permalink to “2.3 Create Device”">​</a></h3><p><img src="'+n+`" alt="Create Device"></p><ol><li>Go to <strong>Device Connectivity</strong> - <strong>Device Management</strong> → <strong>Add Device</strong>.</li><li>Fill in device name, select device type: The device template created in the previous step.</li><li>Enter Device Details, select the Connection tab, fill in Device IP, Port, Slave ID, and Save.</li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>Device IP: 192.168.1.100</span></span>
<span class="line"><span>Port: 502</span></span>
<span class="line"><span>Slave ID: 1</span></span></code></pre></div><h2 id="_3-data-address-table-configuration" tabindex="-1">3. Data Address Table Configuration <a class="header-anchor" href="#_3-data-address-table-configuration" aria-label="Permalink to “3. Data Address Table Configuration”">​</a></h2><h3 id="_3-1-add-data-points" tabindex="-1">3.1 Add Data Points <a class="header-anchor" href="#_3-1-add-data-points" aria-label="Permalink to “3.1 Add Data Points”">​</a></h3><p>Click <strong>Data Address Table</strong> → <strong>Add Data Point</strong> to configure parameters:</p><table tabindex="0"><thead><tr><th>Config Item</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>Data Point Name</td><td>Unique Identifier</td><td>temperature</td></tr><tr><td>Function Code</td><td>Modbus Function Code</td><td>03 (Read Holding Register)</td></tr><tr><td>Start Address</td><td>Register Address</td><td>40001</td></tr><tr><td>Data Length</td><td>Register Quantity</td><td>2</td></tr><tr><td>Data Type</td><td>Data Parsing Type</td><td>Float32</td></tr><tr><td>Endianness</td><td>Big/Little Endian</td><td>Big Endian</td></tr><tr><td>Scaling Factor</td><td>Value Scaling</td><td>0.1</td></tr></tbody></table><h3 id="_3-2-supported-function-codes" tabindex="-1">3.2 Supported Function Codes <a class="header-anchor" href="#_3-2-supported-function-codes" aria-label="Permalink to “3.2 Supported Function Codes”">​</a></h3><table tabindex="0"><thead><tr><th>Function Code</th><th>Description</th><th>Address Range</th></tr></thead><tbody><tr><td>01/05</td><td>Read/Write Coil Status</td><td>00001-09999</td></tr><tr><td>02</td><td>Read Discrete Input</td><td>10001-19999</td></tr><tr><td>03/06</td><td>Read/Write Holding Register</td><td>40001-49999</td></tr><tr><td>04</td><td>Read Input Register</td><td>30001-39999</td></tr></tbody></table><h3 id="_3-3-data-types" tabindex="-1">3.3 Data Types <a class="header-anchor" href="#_3-3-data-types" aria-label="Permalink to “3.3 Data Types”">​</a></h3><table tabindex="0"><thead><tr><th>Type</th><th>Registers Occupied</th><th>Description</th></tr></thead><tbody><tr><td>Bool</td><td>1</td><td>Boolean</td></tr><tr><td>Int16</td><td>1</td><td>16-bit Signed Integer</td></tr><tr><td>UInt16</td><td>1</td><td>16-bit Unsigned Integer</td></tr><tr><td>Int32</td><td>2</td><td>32-bit Signed Integer</td></tr><tr><td>UInt32</td><td>2</td><td>32-bit Unsigned Integer</td></tr><tr><td>Float32</td><td>2</td><td>32-bit Float</td></tr><tr><td>Float64</td><td>4</td><td>64-bit Float</td></tr></tbody></table><h2 id="_4-device-control" tabindex="-1">4. Device Control <a class="header-anchor" href="#_4-device-control" aria-label="Permalink to “4. Device Control”">​</a></h2><h3 id="_4-1-supported-control-types" tabindex="-1">4.1 Supported Control Types <a class="header-anchor" href="#_4-1-supported-control-types" aria-label="Permalink to “4.1 Supported Control Types”">​</a></h3><ul><li><strong>Coil Control</strong>: Function Code 05 (Single Coil)</li><li><strong>Register Control</strong>: Function Code 06 (Single Register), 16 (Multiple Registers)</li></ul><h3 id="_4-2-control-operations" tabindex="-1">4.2 Control Operations <a class="header-anchor" href="#_4-2-control-operations" aria-label="Permalink to “4.2 Control Operations”">​</a></h3><p>Real-time control can be performed from the platform by sending control commands using the configured data point names:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;temperature&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">15.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;switch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;speed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1200</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Explanation:</p><ul><li><code>temperature</code>: Set target temperature value</li><li><code>switch</code>: Control switch state (0=OFF, 1=ON)</li></ul><h2 id="_5-troubleshooting" tabindex="-1">5. Troubleshooting <a class="header-anchor" href="#_5-troubleshooting" aria-label="Permalink to “5. Troubleshooting”">​</a></h2><h3 id="_5-1-common-issues" tabindex="-1">5.1 Common Issues <a class="header-anchor" href="#_5-1-common-issues" aria-label="Permalink to “5.1 Common Issues”">​</a></h3><table tabindex="0"><thead><tr><th>Issue</th><th>Possible Cause</th><th>Solution</th></tr></thead><tbody><tr><td>Device Disconnected</td><td>Network unreachable, IP error</td><td>Check network, confirm device IP</td></tr><tr><td>Read Fail</td><td>Address error, unsupported function code</td><td>Check register address and function code</td></tr><tr><td>Data Abnormal</td><td>Data type error, endianness error</td><td>Confirm data type and endianness</td></tr><tr><td>Control Fail</td><td>Device read-only, permission denied</td><td>Check write permission and function code support</td></tr></tbody></table><h3 id="_5-2-debugging-suggestions" tabindex="-1">5.2 Debugging Suggestions <a class="header-anchor" href="#_5-2-debugging-suggestions" aria-label="Permalink to “5.2 Debugging Suggestions”">​</a></h3><ol><li><strong>Step-by-step</strong>: Configure a few data points first, then add more.</li><li><strong>Tools</strong>: Use Modbus tools to verify communication.</li><li><strong>Logs</strong>: Check system logs for detailed errors.</li><li><strong>Network</strong>: Use ping to test connectivity.</li></ol><h2 id="_6-performance-optimization" tabindex="-1">6. Performance Optimization <a class="header-anchor" href="#_6-performance-optimization" aria-label="Permalink to “6. Performance Optimization”">​</a></h2><h3 id="_6-1-address-merge-optimization" tabindex="-1">6.1 Address Merge Optimization <a class="header-anchor" href="#_6-1-address-merge-optimization" aria-label="Permalink to “6.1 Address Merge Optimization”">​</a></h3><p>Enable address merge optimization to improve efficiency:</p><ul><li><strong>Continuous Addresses</strong>: System automatically merges continuous register addresses.</li><li><strong>Reduce Requests</strong>: Reduces Modbus request count, improving response speed.</li><li><strong>Suggestion</strong>: Configure related data points in continuous address ranges.</li></ul><h3 id="_6-2-collection-cycle-setting" tabindex="-1">6.2 Collection Cycle Setting <a class="header-anchor" href="#_6-2-collection-cycle-setting" aria-label="Permalink to “6.2 Collection Cycle Setting”">​</a></h3><p>Set appropriate collection cycles:</p><ul><li><strong>High Frequency</strong>: Important parameters (1-5s).</li><li><strong>Normal</strong>: General parameters (10-30s).</li><li><strong>Status</strong>: Slowly changing parameters (60s+).</li></ul><h2 id="references" tabindex="-1">References <a class="header-anchor" href="#references" aria-label="Permalink to “References”">​</a></h2><p><a href="https://www.bilibili.com/video/BV1gJnAzfEk2/?spm_id_from=333.1387.homepage.video_card.click" target="_blank" rel="noreferrer">ThingsPanel Modbus TCP Direct Access [Video]</a></p>`,47)])])}const m=e(s,[["render",o]]);export{b as __pageData,m as default};
